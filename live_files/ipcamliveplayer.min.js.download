/* 											 	   
*  											 	   
* IPCamLive.com Player JavaScript Library v6.7.2 
* http://ipcamlive.com/ 					           
* 											     	   
* Copyright (c) 2020 IPCamLive Inc.    	  	 	   
* 	 											   	   
/* 										       	   
 												  	   
/*
* 
* Example:
*	$(window).load(function() { 
*		ipcamliveplayer.embed('mediadiv', '5464ada2be598');				
*	});
*
*	Params:
*		- HTML element ID
*		- Camera alias
*
*	OR
*
* 	$(window).load(function() { 
*		ipcamliveplayer.embed('mediadiv', '5464ada2be598', {autoplay: false, mute: false, disablefullscreen: false, disablevideofit: false, disableframecapture: false, timelapseplayerenabled: true, disabledownloadbutton: false});
*	}); 
*  
* <div id="mediadiv" style="width: 640px; height: 480px;"></div>
* 
* NOTE: Do not forger to adjust the height based on the ASPECT RATIO of the video stream!
* NOTE: When your DIV has been resized, you have to update IPCamLive player using ipcamliveplayer.resize() method! 
* 
* Required libraries:
* 	jquery 1.9.0+
* 
*/var IPC_PLAYER_VERSION="6.7.2",IPC_PLAYER_CCS_VERSION="4",IPC_MAIN_CCS_VERSION="3",IPC_HLS_JS_VERSION="2",VIDEO_LOGOPOS_TL="lefttop",VIDEO_LOGOPOS_TR="righttop",VIDEO_LOGOPOS_BL="leftbottom",VIDEO_LOGOPOS_BR="rightbottom",VIDEO_MAX_LOGO_SIZE=6,WAIT_TYPE_BUFFERING=1,WAIT_TYPE_CONNECTING=2,DO_NOT_USE_MSE_HLS_PLAYER=!1,DO_NOT_USE_MSE_WS_PLAYER=!1,NATIVE_TEST_WITH_MP4=!1,EMULATE_MOBILE_MODE=!1;1==EMULATE_MOBILE_MODE&&console.log("Emulate mobile device enabled! DO NOT RELEASE THIS!");
var defaultServerHost="http://player.ipcamlive.com/",ipcamliveHostManager=new function(){var c,d;this.checkHTTPS=function(){null!=d&&(null!=location&&"https:"===location.protocol&&(d=d.replace("http://","https://")),c=d+"player/html5player/images-2/")};this.setHostURL=function(a){d=a;this.checkHTTPS()};this.getHostURL=function(){return d};this.getHostURL=function(a){return d+a};this.getImagePathURL=function(){return c};this.setHostURL(defaultServerHost)},ipcamlivehelper=new function(){this.addErrorTextTable=
function(c,d,a,e,b){void 0==e&&(e=ipcStyleManager.getStyleByName("default",!0,!1));var f="";1==a&&""!=e.errorPage.icon&&(f='<img src="'+e.errorPage.icon+'" style="width: 48px; height: 48px; vertical-align:middle; padding-bottom:4px">');a="";1==b&&(a="display: none;");var q=ipcStyleManager.buildCSSFilterString(e.filters);$("#"+c).html('<div style="width: 100%; height: 100%; background-color: '+e.errorPage.backgroundColor+';"><table id="'+c+'_errorTableText" style="width: 100%; height: 100%; '+a+q+
'"><td style="text-align:center">'+f+'<span style="color: '+e.errorPage.textColor+"; font-family:"+e.text.fontFamily+'; font-weight: bold; padding-right: 12px; text-shadow: 1px 1px #000;">'+d+"</span></td></table></div>");1==b&&$("#"+c+"_errorTableText").fadeIn(500)};this.addErrorText=function(c,d,a,e){var b=$("#"+c+"_connectingimg");0<b.length?b.fadeOut(500,function(){ipcamlivehelper.addErrorTextTable(c,d,a,e,!0)}):this.addErrorTextTable(c,d,a,e,!1)};this.showStreamStartTimer=function(c,d,a){if(0<
a){var e=Math.floor(a/3600);a-=3600*e;var b=Math.floor(a/60);a-=60*b;var f=" ";0<e&&(f=f+e+"h ");if(0<e||0<b)f=f+b+"m ";if(0<e||0<b||0<a)f=f+a+"s ";this.addErrorText(c,ipcLocale.cameraStartInSec+f,1,d)}else this.addErrorText(c,ipcLocale.cameraStartSoon,1,d)};this.getPosByID=function(c){switch(c){case "TL":return VIDEO_LOGOPOS_TL;case "TR":return VIDEO_LOGOPOS_TR;case "BL":return VIDEO_LOGOPOS_BL;case "BR":return VIDEO_LOGOPOS_BR;default:return VIDEO_LOGOPOS_BL}};this.createTimeout=function(c,d){var a=
setTimeout(c,d);return{cancel:function(){clearTimeout(a)},trigger:function(){clearTimeout(a);return c()}}};this.resizeElement=function(c,d,a,e,b){var f=Math.min(.25*c.clientWidth,e.maxWidth);f=Math.max(f,e.minWidth);a=a.height/a.width*f;d.css("left",c.clientWidth/2-f/2+"px");d.css("top",c.clientHeight/2-a/2+"px");d.css("width",f+"px");d.css("height",a+"px");void 0!=b&&1==b&&void 0!=e.stateCount&&d.css("background-size",f*e.stateCount+"px "+a+"px")}},AABB={collide:function(c,d){c=c.getBoundingClientRect();
d=d.getBoundingClientRect();return!(c.top>d.bottom||c.right<d.left||c.bottom<d.top||c.left>d.right)},inside:function(c,d){c=c.getBoundingClientRect();d=d.getBoundingClientRect();return d.top<=c.top&&c.top<=d.bottom&&d.top<=c.bottom&&c.bottom<=d.bottom&&d.left<=c.left&&c.left<=d.right&&d.left<=c.right&&c.right<=d.right}},dependencyhelper=new function(){var c=window,d=document,a=navigator,e=[];this.toInt=function(b){return parseInt(b,10)};this.detectFlashParams=function(){var b="undefined"!==typeof d.getElementById&&
"undefined"!==typeof d.getElementsByTagName&&"undefined"!==typeof d.createElement,f=a.userAgent.toLowerCase(),e=a.platform.toLowerCase(),n=e?/win/.test(e):/win/.test(f);e=e?/mac/.test(e):/mac/.test(f);f=/webkit/.test(f)?parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1;var l="Microsoft Internet Explorer"===a.appName,g=[0,0,0],h=null;if("undefined"!==typeof a.plugins&&"object"===typeof a.plugins["Shockwave Flash"])(h=a.plugins["Shockwave Flash"].description)&&"undefined"!==typeof a.mimeTypes&&
a.mimeTypes["application/x-shockwave-flash"]&&a.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(plugin=!0,l=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=this.toInt(h.replace(/^(.*)\..*$/,"$1")),g[1]=this.toInt(h.replace(/^.*\.(.*)\s.*$/,"$1")),g[2]=/[a-zA-Z]/.test(h)?this.toInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if("undefined"!==typeof c.ActiveXObject)try{if(h=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))l=!0,h=h.split(" ")[1].split(","),g=[this.toInt(h[0]),
this.toInt(h[1]),this.toInt(h[2])]}catch(u){}return{w3:b,pv:g,wk:f,ie:l,win:n,mac:e}};this.hasFlashPlayerVersionLocal=function(b){b+="";var a=this.detectFlashParams().pv;b=b.split(".");b[0]=this.toInt(b[0]);b[1]=this.toInt(b[1])||0;b[2]=this.toInt(b[2])||0;return a[0]>b[0]||a[0]==b[0]&&a[1]>b[1]||a[0]==b[0]&&a[1]==b[1]&&a[2]>=b[2]?!0:!1};this.isAllCSSLoaded=function(){return 0===e.length?!1:1===e[0].state};this.load_item=function(b,a,c){for(var d=0;d<e.length;d++)if(e[d].js===b){0===e[d].state?e[d].cbs.push(a):
a();return}e.push({js:b,state:0,cbs:[a]});b=document.getElementsByTagName("head")[0];c.onload=function(){var b=c.href?c.href:c.src;for(var a=0;a<e.length;a++)if(e[a].js===b){e[a].state=1;b=e[a].cbs;for(a=0;a<b.length;a++)b[a]();break}};c.onreadystatechange=function(){if("complete"==this.readyState)c.onload()};b.appendChild(c)};this.createVersionedFileName=function(b,a,c){return b+"-"+a+c};this.createVersionedJSFileName=function(b,a){return this.createVersionedFileName(b,a,".js")};this.createVersionedCSSFileName=
function(b,a){return this.createVersionedFileName(b,a,".css")};this.load_js=function(b,a){var c=document.createElement("script");c.src=b;c.type="text/javascript";this.load_item(c.src,a,c)};this.load_css=function(b,a){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;this.load_item(c.href,a,c)};this.remove_item_cb=function(b,a){for(var c=0;c<e.length;c++)if(e[c].js===b){b=e[c].cbs.indexOf(a);-1!==b&&e[c].cbs.splice(b,1);break}};this.preload_image=function(b){(new Image).src=
b}},browserhelper=new function(){var c=!1,d=void 0,a={},e=void 0;this.getParam=function(b,a,c){return void 0!=b&&b.hasOwnProperty(a)?b[a]:c};this.enableDebugLog=function(b){c=this.getParam(b,"enabledebuglog",!1);1==c&&this.log("Debug log enabled")};this.log=function(b){console&&1==c&&(console.log(b),browserhelper.ui_log(b))};this.forceLog=function(b){console&&(console.log(b),browserhelper.ui_log(b))};this.isEdge=function(){if(void 0!=a.isEdge)return a.isEdge;a.isEdge=/Edge/i.test(navigator.userAgent);
return a.isEdge};this.isHigherPlatform=function(b){return platform.version>=b||parseInt(platform.version)>=b};this.isMobileBrowser=function(){if(1==EMULATE_MOBILE_MODE)return!0;if(void 0!=a.isMobileBrowser)return a.isMobileBrowser;if(is.mobile()||is.touchDevice()&&is.safari())return a.isMobileBrowser=!0,a.isMobileBrowser;if(is.windowsTablet()){if(void 0!=d)return d;this.log("Windows touch device detected (NoteBook/Tablet)");var b=document.createElement("video");if(b.canPlayType)return d=""!=b.canPlayType("application/x-mpegurl")||
""!=b.canPlayType("application/vnd.apple.mpegurl"),this.log("\tCheck with video.canPlayType: "+d),d;d=!1;this.log("\tVideo.canPlayType not available...");return 10<=platform.os.version}return is.tablet()};this.isBrowserSupportNativeHLS=function(){if(void 0!=d)return d;var b=document.createElement("video");return d=b.canPlayType?""!=b.canPlayType("application/x-mpegurl")||""!=b.canPlayType("application/vnd.apple.mpegurl"):!1};this.isNativeHLSSupported=function(){if(1==NATIVE_TEST_WITH_MP4)return!0;
if(void 0!=a.isNativeHLSSupported)return a.isNativeHLSSupported;if(is.safari()&&is.windows())return a.isNativeHLSSupported=!1,a.isNativeHLSSupported;if(/Edge/i.test(navigator.userAgent)||0==EMULATE_MOBILE_MODE&&(this.isMobileBrowser()||is.safari()))return this.log("Enable native HLS"),a.isNativeHLSSupported=!0,a.isNativeHLSSupported;var b=this.isHTML5HLSSupported(),c=this.isBrowserSupportNativeHLS(),d=dependencyhelper.hasFlashPlayerVersionLocal("10.1.0");(c=0==b&&1==c&&0==d)?this.log("Enable native HLS"):
b?this.log("Native HLS not supported, using MSE"):d?this.log("Native HLS not supported, using FLASH"):this.log("Nothing supported (HLS, FLASH, Native HLS)");a.isNativeHLSSupported=c;return a.isNativeHLSSupported};this.isStableBrowserForHTML5_HLS=function(){if(DO_NOT_USE_MSE_HLS_PLAYER)return!1;if(void 0!=a.isStableBrowserForHTML5_HLS)return a.isStableBrowserForHTML5_HLS;var b=platform.name+" / "+platform.version+" / "+platform.os.version;if(is.chrome())return this.log(b+" (detect: Chrome)"),a.isStableBrowserForHTML5_HLS=
!0,a.isStableBrowserForHTML5_HLS;if(is.opera())return 1==browserhelper.isHigherPlatform(27)?(this.log(b+" (detect: Opera > 27)"),a.isStableBrowserForHTML5_HLS=!0):(this.log(b+" (detect: Opera <= 27)"),a.isStableBrowserForHTML5_HLS=!1),a.isStableBrowserForHTML5_HLS;if(is.firefox())return 1==browserhelper.isHigherPlatform(45)?(this.log(b+" (detect: Firefox > 45)"),a.isStableBrowserForHTML5_HLS=!0):(this.log(b+" (detect: Firefox <= 45)"),a.isStableBrowserForHTML5_HLS=!1),a.isStableBrowserForHTML5_HLS;
if(/Edge/i.test(navigator.userAgent))return this.log(b+" (detect: Edge)"),a.isStableBrowserForHTML5_HLS=!0,a.isStableBrowserForHTML5_HLS;if(is.ie())return this.log(b+" (detect: IE)"),a.isStableBrowserForHTML5_HLS=!1,a.isStableBrowserForHTML5_HLS;this.log(b+" (detect: unknown)");a.isStableBrowserForHTML5_HLS=dependencyhelper.hasFlashPlayerVersionLocal("10.1.0");return dependencyhelper.hasFlashPlayerVersionLocal("10.1.0")};this.isHLSSupported=function(){if(void 0!=a.isHLSSupported)return a.isHLSSupported;
a.isHLSSupported=window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return a.isHLSSupported};this.isHTML5HLSSupported=function(){if(void 0!=a.isHTML5HLSSupported)return a.isHTML5HLSSupported;a.isHTML5HLSSupported=this.isStableBrowserForHTML5_HLS()&&this.isHLSSupported();return a.isHTML5HLSSupported};this.isHTML5Supported=function(){if(void 0!=a.isHTML5Supported)return a.isHTML5Supported;if(this.isNativeHLSSupported())a.isHTML5Supported=!0;else{var b=
this.isHTML5HLSSupported();a.isHTML5Supported=b}return a.isHTML5Supported};this.isWebSocketSupported=function(){if(DO_NOT_USE_MSE_WS_PLAYER)return!1;if(void 0!=a.isWebSocketSupported)return a.isWebSocketSupported;a.isWebSocketSupported=window.WebSocket&&window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return a.isWebSocketSupported};this.isInlineSupportedOnIPhone=function(){if(void 0!=a.isInlineSupportedOnIPhone)return a.isInlineSupportedOnIPhone;
is.iphone()||is.ipod()?a.isInlineSupportedOnIPhone="playsInline"in document.createElement("video")&&1==browserhelper.isHigherPlatform(10):a.isInlineSupportedOnIPhone=!1;return a.isInlineSupportedOnIPhone};this.isSafariMobile=function(){if(void 0!=a.isSafariMobile)return a.isSafariMobile;if(0==is.safari())return a.isSafariMobile=!1,a.isSafariMobile;if(is.iphone()||is.ipod())return a.isSafariMobile=0==this.isInlineSupportedOnIPhone(),a.isSafariMobile;var b=document.createElement("div");b="webkitRequestFullScreen"in
b||"requestFullScreen"in b?!1:0=="webkitEnterFullScreen"in document.createElement("video");a.isSafariMobile=b;return a.isSafariMobile};this.hexToRgb=function(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,a,c,d){return a+a+c+c+d+d});return(b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b))?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null};this.deepTest=function(b,a){a=a.split(".");for(b=b[a.shift()];b&&a.length;)b=b[a.shift()];return b};this.checkNested=function(b){for(var a=
Array.prototype.slice.call(arguments,1),c=0;c<a.length;c++){if(!b||!b.hasOwnProperty(a[c]))return!1;b=b[a[c]]}return!0};this.getTextWidth=function(b,a){var c=document.createElement("canvas").getContext("2d");c.font=a;return c.measureText(b).width};this.createLoggerWindow=function(b){$("#"+b).append("<div id="+b+'_console_div style="position: absolute; background-color: #fff; width: 400px; height: 400px"> <textarea \tid='+b+'_console_memo   style="resize:none; width:400px; height:400px"></textarea></div>');
e=document.getElementById(b+"_console_memo")};this.ui_log=function(b){void 0!=e&&(e.value+=b,e.value+="\n")};this.isIOS13OrLater=function(){if(void 0!=a.isIOS13OrLater)return a.isIOS13OrLater;"MacIntel"==navigator.platform?a.isIOS13OrLater=!0:is.ipad()||is.iphone()||is.ipod()?a.isIOS13OrLater=1==browserhelper.isHigherPlatform(13):a.isIOS13OrLater=!1;browserhelper.log("Is iOS 13 or later: "+a.isIOS13OrLater);return a.isIOS13OrLater};this.getOverflowValue=function(b){return 1==browserhelper.isIOS13OrLater()&&
1==this.getParam(b,"iframemode",!1)?"":"overflow:hidden;"}},multilevelhelper=new function(){this.calcWeightX=function(c,d,a){return c>=a[d-1].width&&c<=a[d].width?(c-a[d-1].width)/(a[d].width-a[d-1].width):0};this.calcWeightY=function(c,d,a){return c>=a[d-1].height&&c<=a[d].height?(c-a[d-1].height)/(a[d].height-a[d-1].height):0};this.selectLevelForPlayerSize=function(c,d,a){targetLevel=-1;for(var e=0;e<a.length;e++)if(c<=a[e].width&&d<=a[e].height){targetLevel=e;break}0<targetLevel?(wX=this.calcWeightX(c,
targetLevel,a),wY=this.calcWeightY(d,targetLevel,a),.2>wX&&.2>wY&&--targetLevel):-1==targetLevel&&(targetLevel=a.length-1);browserhelper.log("\tDetect Level for size: "+c+"x"+d+"; Result: "+targetLevel);return targetLevel};this.selectLevelForScreenSize=function(c){return 0<screen.width&&0<screen.height?(sW=screen.width*window.devicePixelRatio,sH=screen.height*window.devicePixelRatio,targetLevelLandscape=this.selectLevelForPlayerSize(sW,sH,c),targetLevelPortrai=this.selectLevelForPlayerSize(sH,sW,
c),Math.max(targetLevelLandscape,targetLevelPortrai)):c.length-1};this.selectLevelBySize=function(c,d,a){if(0<c&&0<d)for(var e=0;e<a.length;e++)if(a[e].width>=c||a[e].height>=d)return e;return a.length-1}},captureFrameHelper=new function(){this.isSupported=function(){return/Edge/i.test(navigator.userAgent)||is.safari()?!1:browserhelper.isMobileBrowser()?!1:!0};this.fillDateStr=function(c){return 1<c.length?c:"0"+c};this.createDateString=function(){var c=new Date,d=c.getFullYear(),a=c.getMonth()+1,
e=c.getDate(),b=c.getHours(),f=c.getMinutes();c=c.getSeconds();return d.toString()+""+this.fillDateStr(a.toString())+""+this.fillDateStr(e.toString())+"_"+this.fillDateStr(b.toString())+""+this.fillDateStr(f.toString())+""+this.fillDateStr(c.toString())};this.downloadCanvasAsImage_IE=function(c,d){return navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(c.msToBlob(),d)};this.downloadCanvasAsImage_Other=function(c,d){var a=c.toDataURL("image/jpeg");c=document.createElement("a");c.setAttribute("href",
a);c.setAttribute("target","_blank");c.setAttribute("download",d);document.createEvent?(d=document.createEvent("MouseEvents"),d.initEvent("click",!0,!0),c.dispatchEvent(d)):c.click&&c.click()};this.downloadCanvasAsImage=function(c,d){this.downloadCanvasAsImage_IE(c,d)||this.downloadCanvasAsImage_Other(c,d)};this.captureFrame=function(c,d){var a=document.createElement("canvas");a.width=c.videoWidth;a.height=c.videoHeight;a.getContext("2d").drawImage(c,0,0,a.width,a.height);c=(d?d:"Snapshot")+"-"+this.createDateString()+
".jpg";this.downloadCanvasAsImage(a,c)}};function basicWatchDog(c,d,a,e){function b(){q=0;null!=f&&(browserhelper.log(c+" WatchDog stopped."),window.clearInterval(f),f=null)}var f=null,q=0;this.start=function(){null==f&&(browserhelper.log(c+" WatchDog started."),f=window.setInterval(function(){var d=Date.now();0<q&&q+a<d&&(b(),browserhelper.log(c+" Watchdog fail, no signal received in the last "+a+"ms."),e())},d))};this.stop=function(){b()};this.signal=function(){q=Date.now()}}
function liveVideoPlayer(){var c,d=void 0,a=void 0;this.player=function(e,b){if(browserhelper.isHTML5Supported())c=new ihtml5video;else if(dependencyhelper.hasFlashPlayerVersionLocal("10.1.0"))c=new iflashvideo;else return"On this platform you need Adobe Flash player to play this video stream.";c.setCheckStreamState(a);c.setExtraParams(d);c.player(e,b,!1);return!0};this.setEvents=function(a,b){void 0!=c&&c.setEvents(a,b)};this.destroyObjects=function(){void 0!=c&&c.destroyObjects()};this.resize=function(){void 0!=
c&&c.resize()};this.setExtraParams=function(a){d=a};this.setCheckStreamState=function(c){a=c}}
function iplayerEx(){var c=void 0,d=void 0,a,e,b,f=void 0,q,n,l,g,h,u,k="",I=-1,J=!1,p=0,y,r,w,C,v=function(a){ipcLM.setLocaleFromParam(b.locale);b.customskinurl?$.getJSON(b.customskinurl).done(function(c){b.style=ipcStyleManager.inheritStyle(c,!0,!0);a()}).fail(function(c,d,e){b.style=ipcStyleManager.getStyleByName(b.skin,!0,!0);a()}):(b.style=ipcStyleManager.getStyleByName(b.skin,!0,!0),a())},D=function(c){var d=$("#"+a+"_connectingimg");if(d&&(d.is(":visible")||1==c)){var e=$("#"+a);ipcamlivehelper.resizeElement(e[0],
d,b.style.loading.buffering,b.style.loading.limits);1==c&&d.show()}},z=function(a){void 0!=b.rtcsupport&&0!=b.rtcsupport&&ipcamliveHostManager.getHostURL()===defaultServerHost&&$.getJSON(defaultServerHost+"player/getgroupaddress.php?alias="+a).done(function(a){void 0!=a.address&&(browserhelper.log("New endpoint received: "+a.address),ipcamliveHostManager.setHostURL(a.address))}).fail(function(a,b,c){browserhelper.log("Endpoint received failed! Status: "+b+"; Code: "+c)})};this.setOnCreateVideoPlayer=
function(a){d=a};this.setToken=function(a){k=a};this.embed=function(c,d,g){browserhelper.forceLog("Player Version: "+IPC_PLAYER_VERSION);a=c;e=d;b=g;void 0===b&&(b={});b.alias=e;browserhelper.enableDebugLog(b);v(function(){G(WAIT_TYPE_CONNECTING);z(e);u=0;E(45E3);K()})};this.embedOnline=function(c,d,g,f,t,F,T){browserhelper.forceLog("Player Version: "+IPC_PLAYER_VERSION);a=c;e=d;n=g;q=f;l=t;b=T;b.alias=e;void 0!=F&&null!=F&&0<F&&(b.websocketport=F);M(T.timeshiftenabled);browserhelper.enableDebugLog(b);
v(function(){z(e);L();K()})};this.resize=function(){c?c.resize():D(!1)};this.setExtraParams=function(a){f=a};this.getWebSocketDelay=function(){return void 0!=c?c.getWebSocketDelay():0};var M=function(a){void 0!=a&&1==a?(g=l+"streams_timeshift/",h=l+"streams_timeshift/"):(g=l+"streams/",h=l+"streams/");g=g+n+"/stream.m3u8";h=h+n+"/snapshot.jpg"},K=function(){var a=browserhelper.isHTML5Supported()?"HTML5":"Flash";$.get(ipcamliveHostManager.getHostURL("player/registerviewer.php"),{_:$.now(),alias:e,
type:a},function(a){"ok"==a.result&&(I=a.data.viewerid)},"json").fail(function(a,b,c){registerViewerTimer=setTimeout(function(){K()},1E3)})},G=function(c){switch(c){case WAIT_TYPE_BUFFERING:c=b.style.loading.buffering.anim;break;case WAIT_TYPE_CONNECTING:c=b.style.loading.connecting.anim;break;default:return}var d=ipcStyleManager.buildCSSFilterString(b.style.filters);$("#"+a).html('<div style="width: 100%; height: 100%; background-color: '+b.style.colors.loadingBackground+'; color: #ffffff; text-align:initial;"><img id="'+
a+'_connectingimg" src="'+c+'" style="position: relative; display: none; '+d+'"/></div>');$("#"+a+"_connectingimg").on("load",function(){D(!0)})},H=function(){var a="";try{a=window.location.hostname}catch(P){}return a},E=function(c){var d=H();clearTimeout(r);r=setTimeout(function(){$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),{_:$.now(),token:k,alias:e,targetdomain:d,getstreaminfo:1},function(d){if(1==d.details.streamavailable){n=d.details.streamid;l=d.details.address;
q=d.details.servicetype;M(d.details.timeshiftenabled);b.audioenabled=d.details.audioenabled;b.timelapseenabledoncamera=d.details.timelapseenabled;1==d.details.logoenabled&&(b.logo=ipcamliveHostManager.getHostURL("resources/logos/"+d.details.logofilename),b.logopos=ipcamlivehelper.getPosByID(d.details.logopos));1==d.details.forceautostop&&(b.autostopaftersec="300");1==d.details.blockautoplay&&(b.autoplay=0);void 0!=d.details.websocketport&&null!=d.details.websocketport&&0<d.details.websocketport&&
(b.websocketport=d.details.websocketport);var e=browserhelper.isHTML5Supported()?1:3;"undefined"!=typeof d.streaminfo&&"undefined"!=typeof d.streaminfo.live&&d.streaminfo.live.segmentcount>=e?(b.levels=d.streaminfo.live.levels,L()):(G(WAIT_TYPE_BUFFERING),A(c+45E3))}else"undefined"!=typeof d.details.cameracannotbeembedded&&d.details.cameracannotbeembedded?"undefined"!=typeof d.details.tokenexpired&&d.details.tokenexpired?ipcamlivehelper.addErrorText(a,ipcLocale.tokenExpired,0,b.style):"undefined"!=
typeof d.details.cameracannotbeembedded_nsp&&d.details.cameracannotbeembedded_nsp?ipcamlivehelper.addErrorText(a,ipcLocale.cannotEmbeddPackege,0,b.style):"undefined"!=typeof d.details.cameracannotbeembedded_itd&&d.details.cameracannotbeembedded_itd?ipcamlivehelper.addErrorText(a,ipcLocale.cannotEmbeddDomain,0,b.style):ipcamlivehelper.addErrorText(a,ipcLocale.cannotEmbedd,0,b.style):1==d.details.operationtimewindowenabled&&1!=d.details.operationtimewindowactive?(p=d.details.operationtimewindow_starttimesec+
15,m(!0)):(u+=1E3,u<c?E(c):ipcamlivehelper.addErrorText(a,ipcLocale.cameraNotAvailable,1,b.style))},"json").fail(function(a,b,d){E(c)})},1E3)},A=function(c){var d=H();clearTimeout(w);w=setTimeout(function(){$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),{_:$.now(),token:k,alias:e,targetdomain:d,getstreaminfo:1},function(d){var e=browserhelper.isHTML5Supported()?1:3;"undefined"!=typeof d.streaminfo&&"undefined"!=typeof d.streaminfo.live&&d.streaminfo.live.segmentcount>=e?
L():(u+=1E3,u<c?A(c):ipcamlivehelper.addErrorText(a,ipcLocale.cameraNotAvailable,1,b.style))},"json").fail(function(a,b,d){A(c)})},1E3)},x=function(a){var b=H();void 0==a&&(a=6E4);void 0!=y&&y.cancel();y=ipcamlivehelper.createTimeout(function(){var a={_:$.now(),token:k,alias:e,targetdomain:b};J&&(a.viewerid=I);$.get(ipcamliveHostManager.getHostURL("player/getcamerastreamstate.php"),a,function(a){1==a.details.streamavailable&&n==a.details.streamid?x():(G(WAIT_TYPE_CONNECTING),u=0,E(9E4))},"json").fail(function(a,
b,c){x(5E3)})},a)},m=function(c){c&&ipcamlivehelper.showStreamStartTimer(a,b.style,p);clearTimeout(C);C=setTimeout(function(){p--;ipcamlivehelper.showStreamStartTimer(a,b.style,p);0<p?15<p&&0==p%10?E(45E3):m(!1):E(45E3)},1E3)},B=function(d){c=void 0==d?new liveVideoPlayer:d;c.setExtraParams(f);c.setCheckStreamState(function(){void 0!=y&&y.trigger()});!0!==(d=c.player(a,b))?ipcamlivehelper.addErrorText(a,d,0,b.style):(c.setEvents(R,O),x())},L=function(){"https:"===location.protocol&&(l=l.replace("http://",
"https://"),g=g.replace("http://","https://"),h=h.replace("http://","https://"));void 0!=y&&y.cancel();clearTimeout(r);clearTimeout(w);clearTimeout(C);void 0!=c&&(c.destroyObjects(),c=null);void 0===b&&(b={});b.source=g;b.poster=h;b.address=l;b.streamid=n;b.servicetype=q;"B"==q&&(b.logo=ipcamliveHostManager.getHostURL("player/logo.png"),b.logopos=VIDEO_LOGOPOS_BL,b.autostopaftersec="300");var a=void 0;void 0!=d&&(a=d(b));void 0!=a?B(a):B(new liveVideoPlayer)},R=function(){J=!0;y.trigger()},O=function(){J=
!1}}
function ihtml5video(){function c(a,b){clearTimeout(L);L=setTimeout(function(){f(b)},a)}function d(a,b){var c=$("#"+k+"_logo");void 0!=c&&void 0!=c[0]&&(1==AABB.collide(c[0],a[0])&&1==b?c.animate({opacity:"0.0"},250):c.animate({opacity:"1.0"},250))}function a(a,b){a=$("#"+k+"_videoplayer");browserhelper.log("Stop native video, reembed player");clearTimeout(L);clearTimeout(H);clearTimeout(R);null!=N&&N();var c=void 0;void 0==x?(void 0!=a&&void 0!=a[0]&&(a[0].src="",a[0].load()),void 0!=m&&m.ipc_detachVideoControls()):c=
x.detachVideoPlayer(b);if(c&&0==c.reembedNeeded)return!1;$("#"+k).empty();D=v=0;C=!1;x=m=void 0;z=w=!1;window.removeEventListener("resize",f);window.removeEventListener("playing",l,!0);return!0}function e(b){if(0!=a(b))return u(k,I,J,b&&1==b),m}function b(a){void 0!=a&&1==a?void 0!=G&&G():($("#"+k+"_videoplayer"),S=!0,browserhelper.log("Cannot connect with WebSocket, fallback to HLS"),e(!0))}function f(a){if(void 0!=B){if(is.safari()){if(void 0!=a&&0==a){$("#"+k+"_logo").css("opacity",0);c(500,1);
return}if(void 0==a&&0==$("#"+k+"_logo").css("opacity"))return}var b=B.width();a=B.height();if(1!=w||0!=b&&0!=a&&0!=v&&0!=D){var d=25/A,e=$("#"+k+"_videoplayer");if(void 0==e||void 0==e[0])c(100);else{var t=e[0].videoWidth,g=e[0].videoHeight;0==t&&0==g?c(100):0==z&&(void 0!=m&&(1280<=t&&720<=g?m.set_HDState(!0):m.set_HDState(!1)),z=!0);if(0!=z){var f=v,h=D,q=!1;void 0!=m&&(m.updateFit(),q=m.get_isVideoFit());var l=b/t<=a/g;var p=t/g;g=b;var n=a;0==q&&(1==l?(n=b/p,g=b):(g=a*p,n=a));if(0<f&&0<h){p=
f*VIDEO_MAX_LOGO_SIZE-g;var u=h*VIDEO_MAX_LOGO_SIZE-n;0<p&&p>u?(p=f/h,f=Math.max(32,g/VIDEO_MAX_LOGO_SIZE),h=f/p):0<u&&u>p&&(p=h/f,h=Math.max(32,n/VIDEO_MAX_LOGO_SIZE),f=h/p)}0==t||0==f||q?(t=r==VIDEO_LOGOPOS_TL?b-f-d:d,q=d,l=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_TR?d:a-h-d,b=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_BL?d:b-f-d):1==l?(l=(a-n)/2,t=r==VIDEO_LOGOPOS_TL?b-f-d:d,q=l+d,l=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_TR?l+d:a-l-h-d,b=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_BL?d:b-f-d):(l=(b-g)/2,t=r==
VIDEO_LOGOPOS_TL?b-l-f-d:l+d,q=d,b=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_BL?l+d:b-l-f-d,l=r==VIDEO_LOGOPOS_TL||r==VIDEO_LOGOPOS_TR?d:a-h-d);b+=B.offset().left;l+=B.offset().top;void 0!=m&&(C=l+h>a-m.get_controlBarHeight()-d,1==C&&(l=m.get_controlBarTop()-h-d));$("#"+k+"_logo").offset({top:l,left:b});$("#"+k+"_logo").width(f).height(h);$("#"+k+"_logo").show();$("#"+k+"_logo").css("opacity",1);1==isAudioEnabled&&e[0].muted&&m.setUnmuteButton({left:t,top:q})}}}else browserhelper.log("Invalid logo params:"+
b+"x"+a+", "+v+"x"+D),c(1E3)}}function q(){M&&M()}function n(){if(void 0==y||1==w||void 0==B)f();else{w=!0;B.append('<img id="'+k+'_logo" src="'+y+'" style="position: absolute; z-index: 2147483647;">');var a=$("#"+k+"_logo");a.css("opacity",0);a.css("pointer-events","none");a.on("load",function(){v=$(this).width();D=$(this).height();browserhelper.isMobileBrowser()&&(v/=A,D/=A);f(1)}).attr("src",a.attr("src"))}}function l(a){var b=$("#"+k+"_videoplayer");a.target==b[0]&&(n(),window.removeEventListener("playing",
l,!0),ipcStyleManager.setBackgroundColor(b,I.style.colors.videoBackground))}function g(a,b,c){return void 0!=a&&a.hasOwnProperty(b)?a[b]:c}function h(){void 0!=E&&(clearTimeout(H),H=setTimeout(function(){void 0==m?e():(h(),m.showContinueWatchMessage())},1E3*E))}function u(a,c,n,u){I=c;p=c.source;k=a;J=n;if(c.hasOwnProperty("source")){void 0!=Q&&(browserhelper.log("Extra Params: "),browserhelper.log(Q));void 0==ipcLocale&&ipcLM.setDefaultLocale();var t=browserhelper.isMobileBrowser();c.hasOwnProperty("levels");
A=window.devicePixelRatio;1==t&&1<A&&(A/=2);var w=browserhelper.isNativeHLSSupported();1==w&&1==g(Q,"desktop_safari_force_mse",!1)&&0==t&&is.safari()&&1==browserhelper.isHigherPlatform(8)&&(w=!1,browserhelper.log("Force use MSE player instead of native HLS"));var v="";isAudioEnabled=g(c,"audioenabled",!0);if(c.hasOwnProperty("mute")&&c.mute||0==isAudioEnabled)v="muted ";if(P=0==isAudioEnabled&&1==g(c,"websocketenabled",!1)&&0==S&&browserhelper.isWebSocketSupported()&&0==n&&void 0!=c.websocketport)p=
"https:"===location.protocol?p.replace("https://","wss://"):p.replace("http://","wss://"),p=(new URL(p)).origin+":"+c.websocketport,console.log("WebSocket URL: "+p);y=g(c,"logo");r=g(c,"logopos");E=g(c,"autostopaftersec",3600);var F="";c.hasOwnProperty("autoplay")&&1==u&&c.autoplay&&(F="autoplay ",1==t&&(v="muted "));u=!0;c.hasOwnProperty("disableplayonreappear")&&(u=!c.disableplayonreappear);var z="preload=";z=1==P||1==n||1==w&&""!=F?z+'"metadata" ':z+'"none" ';a={};a.videoTag=k+"_videoplayer";a.videoContainerTag=
k+"_ipc_ic";a.isLiveMode=0==n;a.isMobile=t;a.onHide=e;a.onUpdate=f;a.onFitChange=q;a.posterURL=g(c,"poster","");a.disableFullScreen=g(c,"disablefullscreen",!1);a.disableVideoFit=1==g(c,"disablevideofit",!1)||1==browserhelper.isEdge();a.hideLink=g(c,"hidelink",!1);a.audioEnabled=isAudioEnabled;a.snapshotEnabled=!g(c,"disableframecapture",!1);a.enableReportButton=!g(c,"disablereportbutton",!1);a.hideSpeedButton=g(c,"hideplaybackspeedbutton",!1);a.cameraAlias=c.alias;a.title=g(c,"title",void 0);a.source=
p;a.disableDownloadButton=g(c,"disabledownloadbutton",!1);a.setSpeedControlState=d;a.customMenuItem=g(c,"custommenu",void 0);a.style=c.style;a.autoplay=""!=F;a.disableUserPause=g(c,"disableuserpause",!1);a.webSocketVerboseLog=g(c,"websocketverboselog",!1);a.hideContextMenu=g(c,"hidecontextmenu",!1);a.hideControlBar=g(c,"hidecontrolbar",!1);a.stopRightAfterInvisible=g(c,"stoprightafterinvisible",!1);a.streamID=c.streamid;a.disableBufferingAnim=1==g(c,"disablebufferinganim",!1)||0==c.style.loading.buffering.enabled;
F="";a.playonscroll={};a.playonscroll.playonscroll=g(c,"playonscroll",!1);a.playonscroll.playonscrolldelay=g(c,"playonscrolldelay",1E3);a.playonscroll.playonscrollstopdelay=g(c,"playonscrollstopdelay",3E3);1==NATIVE_TEST_WITH_MP4&&(p="http://ipcamlive.com/resources/teststream/VfE_html5.mp4");window.addEventListener("playing",l,!0);window.addEventListener("resize",f);$("#"+k).html("<div id="+k+'_ipc_ic style="width:100%; height:100%; position:relative; background:#000; z-index:1; '+browserhelper.getOverflowValue(c)+
'"></div>');t=g(c,"showdebuglog",!1);0==n&&1==t&&browserhelper.createLoggerWindow(k+"_ipc_ic");t="";1==J&&(t=" crossorigin=anonymous");B=$("#"+k+"_ipc_ic");B.append("<video id="+k+"_videoplayer "+v+F+z+t+' style="width: 100%; height: 100%; background-color: '+c.style.colors.loadingBackground+'; display: block;">Your browser does not capable to play this content.</video>');$("#"+k+"_videoplayer").bind("play",function(){0==n&&h();null!=O&&O()});$("#"+k+"_videoplayer").bind("pause",function(){clearTimeout(H);
null!=N&&N()});$("#"+k).width();var G=$("#"+k).height();1==P?(a.playerType=ipc_html5_controls.PlayerTypeWS,x=new ipc_websocket_html5_controls,a=x.attachVideoPlayer(p,a,b),null!=a&&(m=a)):1==w||1==n?(w=browserhelper.isSafariMobile(),v=$("#"+k+"_videoplayer"),0==w?(a.playerType=ipc_html5_controls.PlayerTypeNative,m=new ipc_html5_controls,m.ipc_attachVideoControls(a),browserhelper.isInlineSupportedOnIPhone()&&v.attr("playsinline","true")):(browserhelper.log("This is safari mobile, ui disabled"),v.attr("poster",
a.posterURL),v.attr("controls","true")),v.attr("src",p)):(a.playerType=ipc_html5_controls.PlayerTypeMSE,x=new ipc_hls_html5_controls,m=x.attachVideoPlayer(p,a));void 0!=m&&(u&&m.set_autoStartAfterPlayerVisibleAgain(),m.set_onControlBarMove(function(a,b){K&&K(a,m.get_controlBarTop());a=$("#"+k+"_logo");if(0!=a.length){if(0==C)if(b=25/A,C=c+D>G-m.get_controlBarHeight()-b,1==C){var c=m.get_controlBarTop()-a.height()-b;a.offset({top:c})}else return;r!=VIDEO_LOGOPOS_TL&&r!=VIDEO_LOGOPOS_TR&&void 0!=a[0]&&
(c=m.get_controlBarTop()-a.height()-25/A,$("#"+k+"_logo").offset({top:c}))}}));if(c.onControlsCreated)c.onControlsCreated(m)}}var k,I,J,p,y,r,w=!1,C=!1,v=0,D=0,z=!1,M,K,G,H,E,A,x,m,B,L,R,O=null,N=null,P=!1,S=!1,Q=void 0;this.destroyObjects=function(){a(!1,!0)};this.setCheckStreamState=function(a){G=a};this.player=function(a,b,c){u(a,b,c,!0)};this.resize=function(){f()};this.setEvents=function(a,b){O=a;N=b};this.setOnControlBarUpdateEvent=function(a){K=a};this.setOnFitChangeEvent=function(a){M=a};
this.start=function(){m.doVisibilityChange(!0,0)};this.stop=function(){return m.doVisibilityChange(!1,0)};this.setSource=function(a,b,c){1==w&&($("#"+k+"_logo").remove(),D=v=0,w=C=!1);m.setSource(a,b,c)};this.getVideoPlayer=function(){return $("#"+k+"_videoplayer")};this.getServerAddress=function(){return I.address};this.getInnerContainerId=function(){return k+"_ipc_ic"};this.getControls=function(){return m};this.setExtraParams=function(a){Q=a};this.getWebSocketDelay=function(){return void 0!=x?x.getDelay():
0}}
function iflashvideo(){function c(){l=!0;d()}function d(){if(0==l)dependencyhelper.load_js(ipcamliveHostManager.getHostURL("player/swfobject.js"),c);else{var d=b.source,h="https:"===location.protocol?"skin_https.xml":"skin.xml";$("#"+e).width();$("#"+e).height();var n="MediaPlayer.swf";b.hasOwnProperty("hidelink")&&b.hidelink&&(n="MediaPlayer_DL.swf");var k="HLSPlugin.swf";b.hasOwnProperty("debug")&&b.debug&&(k="HLSPlugin_Debug.swf");d={src:d,autoPlay:"false",plugin_hls:ipcamliveHostManager.getHostURL("player/"+k),
hls_fragmentloadmaxretry:"2",hls_live_flushurlcache:"true",skin:ipcamliveHostManager.getHostURL("player/"+h),javascriptCallbackFunction:"onJavaScriptBridgeCreated"};b.hasOwnProperty("poster")&&(d.poster=b.poster);b.hasOwnProperty("autoplay")&&(d.autoPlay=b.autoplay?"true":"false");b.hasOwnProperty("logo")&&(d.logo=b.logo);b.hasOwnProperty("logopos")&&(d.logoPosition=b.logopos);b.hasOwnProperty("autostopaftersec")&&(d.autoStopAfterSec=b.autostopaftersec);b.hasOwnProperty("mute")&&b.mute&&(d.muted=
"true");b.hasOwnProperty("hidelink")&&(d.hideLinksInContextMenu=b.hidelink);b.hasOwnProperty("debug")&&b.debug&&(d.hls_debug="true",d.hls_debug2="true");h="direct";is.firefox()&&b.hasOwnProperty("ffrendermode")&&b.ffrendermode&&(browserhelper.log("Firefox render mode set to: "+b.ffrendermode),"window"===b.ffrendermode||"transparent"===b.ffrendermode||"opaque"===b.ffrendermode||"gpu"===b.ffrendermode)&&(h=b.ffrendermode);$("#"+e).html('<div id="flashVideoPlayer" style="display: block; width: 100%; height: 100%"></div>');
swfobject.embedSWF(ipcamliveHostManager.getHostURL("player/"+n),"flashVideoPlayer","100%","100%","10.1.0","",d,{allowFullScreen:"true",wmode:h,allowScriptAccess:"always"},{id:"flashVideoPlayer",name:"flashVideoPlayer"});null==q&&("undefined"!==typeof document.hidden?(f="hidden",q="visibilitychange"):"undefined"!==typeof document.mozHidden?(f="mozHidden",q="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(f="msHidden",q="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&
(f="webkitHidden",q="webkitvisibilitychange"),"undefined"!==typeof document.addEventListener&&"undefined"!==typeof document[f]&&document.addEventListener(q,a,!1))}}function a(){null!=n&&(window.clearInterval(n),n=null);document[f]&&(n=window.setInterval(function(){browserhelper.log("STOP FLASH");window.clearInterval(n);n=null;swfobject.removeSWF("flashVideoPlayer");d()},1E4))}var e,b,f=null,q=null,n=null,l=!1;this.player=function(a,c){e=a;b=c;c.hasOwnProperty("source")&&d()};this.resize=function(){var a=
$("#"+e).width(),b=$("#"+e).height();$("#"+e+"_videoplayer").width(a).height(b)};this.setEvents=function(a,b){};this.destroyObjects=function(){};this.start=function(){};this.stop=function(){swfobject.removeSWF("flashVideoPlayer");d()};this.setExtraParams=function(a){};this.setCheckStreamState=function(){}};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,b,d){c instanceof String&&(c=String(c));for(var a=c.length,e=0;e<a;e++){var f=c[e];if(b.call(d,f,e,c))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,d){c!=Array.prototype&&c!=Object.prototype&&(c[b]=d.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,b,d,a){if(b){d=$jscomp.global;c=c.split(".");for(a=0;a<c.length-1;a++){var e=c[a];e in d||(d[e]={});d=d[e]}c=c[c.length-1];a=d[c];b=b(a);b!=a&&null!=b&&$jscomp.defineProperty(d,c,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");var ipc_contextMenuShown=!1;
(function(c){c.contextMenu={shadow:!0,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:!0,showTransition:"show",hideTransition:"hide",showSpeed:null,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",
disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",themePrefix:"context-menu-theme-",theme:"default",separator:"context-menu-separator",target:null,menu:null,shadowObj:null,bgiframe:null,shown:!1,useIframe:!1,create:function(b,d){var a=c.extend({},this,d);"string"==typeof b?a.menu=c(b):"function"==typeof b?a.menuFunction=b:a.menu=a.createMenu(b,a);a.menu&&(a.menu.css({display:"none"}),c(a.appendTo).append(a.menu));
a.shadow&&(a.createShadow(a),a.shadowOffset&&(a.shadowOffsetX=a.shadowOffsetY=a.shadowOffset));c("body").bind("contextmenu",function(){a.hide()});return a},createIframe:function(){return c('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(b,d){var a=d.className;c.each(d.theme.split(","),function(b,c){a+=" "+d.themePrefix+c});for(var e=c("<table cellspacing=0 cellpadding=0></table>").click(function(){d.hide();
return!1}),f=c("<tr></tr>"),h=c("<td></td>"),g=c('<div class="'+a+'"></div>'),k=0;k<b.length;k++){var l=b[k];l==c.contextMenu.separator?g.append(d.createSeparator()):g.append(d.createMenuItem(l.title,l.data))}d.useIframe&&h.append(d.createIframe());e.append(f.append(h.append(g)));return e},createMenuItem:function(b,d){var a=this;"function"==typeof d&&(d={onclick:d});var e=c.extend({onclick:function(){},className:"",hoverClassName:a.itemHoverClassName,icon:"",disabled:!1,title:"",hoverItem:a.hoverItem,
hoverItemOut:a.hoverItemOut},d),f=e.icon?"background-image:url("+e.icon+");":"";d=c('<div class="'+a.itemClassName+" "+e.className+(e.disabled?" "+a.disabledItemClassName:"")+'" title="'+e.title+'"></div>').click(function(b){return a.isItemDisabled(this)?!1:e.onclick.call(a.target,this,a,b)}).hover(function(){e.hoverItem.call(this,a.isItemDisabled(this)?a.disabledItemHoverClassName:e.hoverClassName)},function(){e.hoverItemOut.call(this,a.isItemDisabled(this)?a.disabledItemHoverClassName:e.hoverClassName)});
b=c('<div class="'+a.innerDivClassName+'" style="'+f+'">'+b+"</div>");d.append(b);return d},createSeparator:function(){return c('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(b){return c(b).is("."+this.disabledItemClassName)},hoverItem:function(b){c(this).addClass(b)},hoverItemOut:function(b){c(this).removeClass(b)},createShadow:function(b){b.shadowObj=c('<div class="'+b.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:b.shadowOpacity,
backgroundColor:b.shadowColor});c(b.appendTo).append(b.shadowObj)},showShadow:function(b,c,a){if(this.shadow)this.shadowObj.css({width:this.menu.width()+this.shadowWidthAdjust+"px",height:this.menu.height()+this.shadowHeightAdjust+"px",top:c+this.shadowOffsetY+"px",left:b+this.shadowOffsetX+"px"}).addClass(this.shadowClass)[this.showTransition](this.showSpeed)},beforeShow:function(){return!0},show:function(b,d){var a=this,e=d.pageX,f=d.pageY;a.target=b;!1!==a.beforeShow()&&(a.menuFunction&&(a.menu&&
c(a.menu).remove(),a.menu=a.createMenu(a.menuFunction(a,b),a),a.menu.css({display:"none"}),c(a.appendTo).append(a.menu)),b=a.menu,e+=a.offsetX,f+=a.offsetY,e=a.getPosition(e,f,a,d),a.showShadow(e.x,e.y,d),a.useIframe&&b.find("iframe").css({width:b.width()+a.shadowOffsetX+a.shadowWidthAdjust,height:b.height()+a.shadowOffsetY+a.shadowHeightAdjust}),b.css({top:e.y+"px",left:e.x+"px",position:"absolute",zIndex:9999})[a.showTransition](a.showSpeed,a.showCallback?function(){a.showCallback.call(a)}:null),
ipc_contextMenuShown=a.shown=!0,c(document).one("click",null,function(){a.hide()}))},getPosition:function(b,d,a,e){b+=a.offsetX;d+=a.offsetY;e=c(a.menu).height();var f=c(a.menu).width(),h=a.direction;if(a.constrainToScreen){var g=c(window),k=g.height();a=g.width();"down"==h&&d+e-g.scrollTop()>k&&(h="up");f=b+f-g.scrollLeft();f>a&&(b-=f-a)}"up"==h&&(d-=e);return{x:b,y:d}},hide:function(){var b=this;if(b.shown){b.iframe&&c(b.iframe).hide();if(b.menu)b.menu[b.hideTransition](b.hideSpeed,b.hideCallback?
function(){b.hideCallback.call(b)}:null);if(b.shadow)b.shadowObj[b.hideTransition](b.hideSpeed)}ipc_contextMenuShown=b.shown=!1},destroy:function(){this.hide();this.shadow&&this.shadowObj.remove();this.menu&&this.menu.remove()}};c.fn.contextMenu=function(b,d){var a=c.contextMenu.create(b,d);this.each(function(){c(this).bind("contextmenu",function(b){a.show(this,b);return!1})});return a}})(jQuery);
function ipc_hls_html5_controls(){function m(){0==dependencyhelper.isAllCSSLoaded()?setTimeout(m,100):Hls.isSupported()&&(a=new Hls({debug:!1,autoStartLoad:!1,liveSyncDurationCount:2,liveMaxLatencyDurationCount:3}),a.attachMedia(e[0]),a.on(Hls.Events.ERROR,function(h,c){if(c.fatal)switch(c.type){case Hls.ErrorTypes.NETWORK_ERROR:a.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:a.recoverMediaError();break;default:if(null!=b.onHide)b.onHide()}}),a.on(Hls.Events.MANIFEST_PARSED,function(h,c){try{1<
c.levels.length&&(n=!0,k(!0),f.set_showLiveResolution(!0),window.addEventListener("resize",k))}finally{a.startLoad()}}),b.autoplay?p():f.showPlay())}function q(){null!=a&&(a.loadLevel=-1,a.nextLevel=d,browserhelper.log("Start Level Change to "+d))}function k(h){if(null!=a&&void 0!=a.levels){var c=a.levels;if(!(2>c.length)){log="Player Size: ["+e.width()+" x "+e.height()+"]; Levels =";for(var b=0;b<c.length;b++)log=log+" ["+c[b].width+" x "+c[b].height+"]";d=multilevelhelper.selectLevelForPlayerSize(e.width(),
e.height(),c);log=log+"; Selected = "+d;browserhelper.log(log);1==h?(browserhelper.log("Set StartLevel to "+d),a.startLevel=d,a.loadLevel=d):(null!=l&&clearTimeout(l),a.nextLevel!=d&&(l=setTimeout(q,1E3)))}}}function p(){a.loadSource(g)}var b=null,g=null,a=null,e=null,f=null,d=-1,n=!1,l=null;this.attachVideoPlayer=function(a,c){null!=g&&this.detachVideoPlayer();b={};$.extend(b,c);g=a;e=$("#"+b.videoTag);b.onFirstPlay=p;f=new ipc_html5_controls;f.ipc_attachVideoControls(b);f.hidePlay();a=dependencyhelper.createVersionedJSFileName("player/html5player/hls.min",
IPC_HLS_JS_VERSION);dependencyhelper.load_js(ipcamliveHostManager.getHostURL(a),m);return f};this.detachVideoPlayer=function(d){1==n&&window.removeEventListener("resize",k);e[0].pause();void 0!=d&&0!=d||e[0].setAttribute("poster",b.posterURL);null!=a&&(a.destroy(),a=null);f.ipc_detachVideoControls();g=f=null}};
function ipc_html5_controls(){function Ja(){A=0==b.disableVideoFit&&!0==="objectFit"in document.documentElement.style;var a=h(l,"bigPlay",["bigPlayBase"]);1==b.autoplay&&a.hide();ipcStyleManager.setBackgroundImage(a,b.style.playButton.bitmap,b.style);if(0==b.hideControlBar){var e=p(l,"control");ipcStyleManager.setPanelStyle(e,b.style);if(b.isLiveMode)a=b.isMobile?h(e,"progressDiv",["meterMobile","stripes"]):h(e,"progressDiv",["meter","stripes"]),a.append('<span style="width: 100%"></span>'),ipcStyleManager.applyProgressBarStyle(e,
b.style.colors.main,b.style.colors.mainDark,.5),ipcStyleManager.applyProgressBarStyle(a,b.style.colors.main,b.style.colors.mainDark,.5);else{a=p(e,"progressDiv","progress");var f=na(a,"bufferBar");a=na(a,"timeBar");ipcStyleManager.setBackgroundColor(f,"#777");ipcStyleManager.setBackgroundColor(a,b.style.colors.main)}f=p(e,"btmControl");0==b.disableUserPause&&(q=h(f,"btnPlay",["btnPlay","controlBtn"],ipcLocale.playButtonHint));0==b.disableFullScreen&&(a=oa()?ipcLocale.fullScreenButtonHint:ipcLocale.fullScreenUnavailable,
h(f,"btnFS",["btnFS","controlBtn"],a));1==A&&h(f,"btnFit",["btnFit","controlBtn"],ipcLocale.fitButtonHint);0==b.disableDownloadButton&&h(f,"btnDownload",["btnDownload","controlBtn-2"],ipcLocale.downloadTimelapseHint);1==b.snapShotEnabled&&h(f,"snapShot",["snapShot","controlBtn"],ipcLocale.downloadSnapshotHint);1==b.enableReportButton&&h(f,"btnReport",["btnReport","controlBtn"],ipcLocale.reportContent);1==b.audioEnabled&&(a=p(f,"volume",void 0,ipcLocale.volumeButtonHint),na(a,"volumeBar"),h(f,"btnSound",
["btnSound","controlBtn"],ipcLocale.muteButtonHint));1==b.isLiveMode?(a=h(e,"liveText",["liveText","defaultFont"],ipcLocale.live),1==b.disableUserPause&&a.css("padding-left","5px"),h(e,"wsText",["liveText","defaultFont"],ipcLocale.webSocketHint,ipcLocale.webSocketPostFix).hide()):(h(e,"timeText",["timeText","defaultFont"],"0.0/0.0"),0==b.isMobile&&0==b.hideSpeedButton&&(h(e,"playbackBtn",["playbackBtn","defaultFont"],ipcLocale.playbackSpeedButtonHint,"1x"),jb()));h(e,"hdIcon",["hdIcon","controlBtn"],
ipcLocale.hdStream)}if(0==b.disableBufferingAnim){a=p(l,"loadingSpinnerContainer");var B=p(a,"loadingSpinnerDefault");0==b.style.loading.buffering.showBackgroundPanel&&(a[0].style.background="rgba(0, 0, 0, 0.0)",a[0].style.borderColor="rgba(0, 0, 0, 0.0)");B[0].style.backgroundImage=ipcStyleManager.getBitmapURL(b.style.loading.buffering.anim);B[0].style.filter=ipcStyleManager.buildFilters(b.style.filters)}void 0!=b.title&&(a=p(l,"titleBar","control"),p(a,"titleText",void 0,void 0,b.title));0==b.hideControlBar&&
(ipcStyleManager.applyBaseImage(f,g("controlBtn"),b.style.icons.bitmap1,b.style),ipcStyleManager.applyBaseImage(f,g("controlBtn-2"),b.style.icons.bitmap2,b.style),ipcStyleManager.applyFontStyle(e,g("defaultFont"),b.style));b.isLiveMode||kb();lb(1);c.on("play",Ka);c.on("pause",pa);if(b.isMobile)c.on("touchend",aa);else c.on("click",aa);c.on("ended",La);c.on("canplay",Ma);c.on("loadedmetadata",qa);c.on("playing",Na);c.on("waiting",Oa);window.addEventListener("resize",C);mb();nb();ob();pb();qb();rb();
sb();b.isMobile||(1==b.hideContextMenu?tb():ub());0==b.hideControlBar&&(d("control").show().css({bottom:-28}),G());void 0!=b.title&&(d("titleBar").show().css({top:0}),d("titleBar").css("height","40px"),d("titleBar").show());"undefined"!==typeof document.hidden?(H="hidden",D="visibilitychange"):"undefined"!==typeof document.mozHidden?(H="mozHidden",D="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(H="msHidden",D="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(H="webkitHidden",
D="webkitvisibilitychange");"undefined"!==typeof document.addEventListener&&"undefined"!==typeof document[H]&&document.addEventListener(D,Pa,!1);1==b.autoplay&&""!=b.source?ra():1==b.playonscroll.playonscroll&&0==b.isMobile&&vb();1==Qa&&0==Ra&&qa()}function Sa(){dependencyhelper.remove_item_cb(sa,Ta);clearInterval(I);J();null!=r&&(window.clearInterval(r),r=null);K();ba();d("control").remove();d("bigPlay").remove();d("playbackSpeedsDiv").remove();0==b.disableBufferingAnim&&d("loadingSpinnerContainer").remove();
void 0!=b.title&&d("titleBar").remove();l.off("mousemove",Ua);c.off("play",Ka);c.off("pause",pa);b.isMobile?c.off("touchend",aa):c.off("click",aa);c.off("ended",La);c.off("canplay",Ma);c.off("loadedmetadata",qa);c.off("loadstart",wb);c.off("playing",Na);c.off("waiting",Oa);c.off("loadedmetadata",Va);window.removeEventListener("resize",C);document.removeEventListener(D,Pa);null!=ta&&ta.destroy();L=!1;1==t&&(t=!1,Wa())}function vb(){w=!1;$(window).scroll(function(){c.is(":in-viewport")?(ba(),1!=ca&&
(ca=!0,null==M&&c[0].paused&&E(!0,b.playonscroll.playonscrollstopdelay,b.playonscroll.playonscrolldelay,!1))):(K(),0!=ca&&(ca=!1,null==N&&0==c[0].paused&&E(!1,b.playonscroll.playonscrollstopdelay,b.playonscroll.playonscrolldelay,!1)))})}function tb(){c.on("contextmenu",function(a){a.preventDefault()})}function ub(){var a=2;switch(b.playerType){case ipc_html5_controls.PlayerTypeNative:var e=1==b.hideLink?{title:ipcLocale.html5PlayerNative,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerNative,
data:{disabled:!0}};var c=[{title:"ipcamlive.com",data:function(a,b){window.open("https://ipcamlive.com")}},$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,data:{disabled:!0}},$.contextMenu.separator,{title:ipcLocale.reportContent,data:function(a,b){da()}}];break;case ipc_html5_controls.PlayerTypeMSE:e=1==b.hideLink?{title:ipcLocale.html5PlayerMSE,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerMSE,data:{disabled:!0}};c=[{title:"ipcamlive.com",data:function(a,b){window.open("https://ipcamlive.com")}},
$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,data:{disabled:!0}},$.contextMenu.separator,{title:ipcLocale.reportContent,data:function(a,b){da()}}];break;case ipc_html5_controls.PlayerTypeWS:e=1==b.hideLink?{title:ipcLocale.html5PlayerWebSocket,data:{disabled:!0}}:{title:"IPCamLive "+ipcLocale.html5PlayerWebSocket,data:{disabled:!0}},c=[{title:"ipcamlive.com",data:function(a,b){window.open("https://ipcamlive.com")}},$.contextMenu.separator,e,{title:ipcLocale.liveStreaming,data:{disabled:!0}},
$.contextMenu.separator,{title:ipcLocale.reportContent,data:function(a,b){da()}}]}1==b.hideLink&&(a=0,c.shift(),c.shift());0==b.enableReportButton&&(c.pop(),c.pop());void 0!=b.customMenuItem&&c.splice(a,0,{title:b.customMenuItem.text,data:function(a,e){window.open(b.customMenuItem.link)}});$(function(){ta=l.contextMenu(c,{theme:"vista"});$(".context-menu-item").hover(function(){0==$(this).hasClass("context-menu-item-disabled")&&$(this).css("background-color",b.style.colors.main)},function(){$(this).css("background-color",
"#FAFAFA")})})}function jb(){var a=p(l,"playbackSpeedsDiv");if(void 0!=a){for(var e=d("playbackBtn"),f=O.length-1;0<=f;f--){var B=b.videoContainerTag+"_"+("pbBtn"+f);a.append('<div class="'+g("playbacSpeedBtn")+" "+g("defaultFont")+'" data-index="'+f+'" id="'+B+'">'+O[f]+"x</div>");d("pbBtn"+f).on("click",function(){var a=this.getAttribute("data-index");e.text(O[a]+"x");c[0].playbackRate=O[a];ua()})}e.hover(function(){a.css("width",$("."+g("playbacSpeedBtn")).width()+"px");a.css("height",O.length*
$("."+g("playbacSpeedBtn")).height()+"px");var b=d("playbackBtn").position().left,e=d("control").position().top,c=d("playbackBtn").width(),f=a.width(),B=a.height();a.css("left",b+c/2-f/2+"px");a.css("top",e-B+"px");Xa()},function(){P=setTimeout(ua,50)});a.hover(function(){Xa()},function(){P=setTimeout(ua,50)});ipcStyleManager.applyFontStyle(a,g("defaultFont"),b.style)}}function Ua(){c[0].paused||x(3E3)}function Va(){Qa=!0}function qa(){Ra=!0;C();setTimeout(va,150);if(!b.isMobile){l.hover(function(){c[0].paused||
x(3E3)},function(){Q||ea(!1)});l.on("mousemove",Ua);var a=d("control");void 0!=a&&a.hover(function(){R=!0},function(){R=!1})}1==b.autoplay&&y(!1)}function Ka(){wa=fa=!0;void 0!=q&&q.addClass(g("paused"));d("bigPlay")[0].style.opacity=1;d("bigPlay").hide();w=!1;m(!0)}function pa(){if(0==w){if(void 0!=document.visibilityState&&"hidden"==document.visibilityState)return;S(ipc_html5_controls.ButtonStateNormal);d("bigPlay").show();ha();J()}m(!0)}function Ma(){}function La(){void 0!=q&&q.removeClass(g("paused"));
c[0].pause()}function aa(a){1!=m(!0)&&(a&&"select"!=a.target.localName&&a.preventDefault(),void 0!=xa&&1==xa(this)||1==ipc_contextMenuShown||T()||(d("bigPlay").is(":visible")?d("bigPlay").click():(ia(),b.isMobile?(c[0].paused&&c[0].play(),ja?ea(!1):x(3E3)):(w=!0,y(),x(3E3)))))}function wb(){y();x(3E3)}function Na(){wa=fa=!0;C()}function Oa(){fa=!1}function S(a){var b=d("bigPlay");switch(a){case ipc_html5_controls.ButtonStateNormal:b.css("background-position","0px 0px");break;case ipc_html5_controls.ButtonStateSelected:b.css("background-position",
-b.width()+"px 0px")}}function ob(){d("bigPlay").on("click",function(a,e){T()&&void 0==e||(K(),1!=ipc_contextMenuShown&&(void 0!=b.onFirstPlay&&null!=b.onFirstPlay&&(b.onFirstPlay(),b.onFirstPlay=null),S(ipc_html5_controls.ButtonStateSelected),y(Ya),x(3E3)))});d("bigPlay").hover(function(){T()||S(ipc_html5_controls.ButtonStateSelected)},function(){T()||S(ipc_html5_controls.ButtonStateNormal)});if(void 0!=q)q.on("click",function(){T()||(w=!0,y())});1==ya?Za():za();C()}function C(){if(0!=c[0].clientWidth){0==
b.disableBufferingAnim&&ipcamlivehelper.resizeElement(c[0],d("loadingSpinnerContainer"),b.style.loading.buffering,b.style.loading.limits);ipcamlivehelper.resizeElement(c[0],d("bigPlay"),b.style.playButton,b.style.playButton,!0);var a=d("volume");300>c[0].clientWidth?a.hide():a.show();G();null!=z&&z();$a(!0);void 0!=k&&ab()}}function oa(){return void 0!=document.webkitFullscreenEnabled?document.webkitFullscreenEnabled:void 0!=document.mozFullscreenEnabled?document.mozFullscreenEnabled:void 0!=document.msFullscreenEnabled?
document.msFullscreenEnabled:void 0!=document.fullscreenEnabled?document.fullscreenEnabled:!0}function bb(){oa()&&(document.webkitFullscreenElement||document.mozFullscreenElement||document.msFullscreenElement||document.fullscreenElement?d("btnFS").addClass(g("exitFS")):d("btnFS").removeClass(g("exitFS")))}function mb(){oa()?(bb(),d("btnFS").click(function(){m(!0);if($.isFunction(u[0].webkitRequestFullScreen))null==document.webkitFullscreenElement?u[0].webkitRequestFullScreen():document.webkitCancelFullScreen();
else if($.isFunction(u[0].mozRequestFullScreen))null==document.mozFullscreenElement?u[0].mozRequestFullScreen():document.mozCancelFullScreen();else if($.isFunction(u[0].msRequestFullscreen))null==document.msFullscreenElement?u[0].msRequestFullscreen():document.msExitFullscreen();else if($.isFunction(u[0].requestFullScreen))null==document.fullscreenElement?u[0].requestFullScreen():document.cancelFullScreen();else if($.isFunction(c[0].webkitEnterFullScreen))0==c[0].webkitDisplayingFullscreen?c[0].webkitEnterFullScreen():
c[0].webkitCancelFullScreen();else{alert("Your browsers doesn't support fullscreen");return}v();if(is.safari()&&b.onUpdate)b.onUpdate(0)}),document.addEventListener("fullscreenchange",ka),document.addEventListener("webkitfullscreenchange",ka),document.addEventListener("mozfullscreenchange",ka),document.addEventListener("MSFullscreenChange",ka)):(d("btnFS").removeClass(g("controlBtn")),d("btnFS").removeClass(g("btnFS")),d("btnFS").addClass(g("disabledFS")))}function ka(){bb()}function sb(){var a=new Image;
a.onload=function(){Aa=a.width;Ba=a.height;browserhelper.log("PosterSize: "+Aa+"x"+Ba);C();1==c[0].paused&&c[0].setAttribute("poster",b.posterURL)};a.src=b.posterURL}function $a(a){if(1==A&&0==b.disableVideoFit){var e=c[0].videoWidth,f=c[0].videoHeight;0==e&&(e=Aa);0==f&&(f=Ba);if(0!=e||0!=e)e/=f,1==a&&(.01<Math.abs(e-c[0].clientWidth/c[0].clientHeight)?d("btnFit").show():d("btnFit").hide()),.8>Math.abs(e-c[0].clientWidth/c[0].clientHeight)?(0==L&&0==t&&Ca(),L=!0):(1==L&&1==t&&Ca(),L=!1)}}function Wa(){0!=
A&&(t?(d("btnFit").addClass(g("exitFit")),c.css("object-fit","fill")):(d("btnFit").removeClass(g("exitFit")),c.css("object-fit","contain")))}function Ca(){0!=A&&(t=!t,Wa())}function nb(){t=!1;0==A&&0==b.disableVideoFit?browserhelper.log("Video Fit not supported!"):(d("btnFit").hide(),d("btnFit").hide(),d("btnFit").click(function(){m(!0);Ca();v();if(b.onUpdate)b.onUpdate();if(b.onFitChange)b.onFitChange(t)}))}function pb(){if(0!=b.snapShotEnabled){var a=d("snapShot");a.show();a.click(function(){m(!0);
v();captureFrameHelper.captureFrame(c[0],"SnapShot")})}}function qb(){if(0!=b.enableReportButton){var a=d("btnReport");a.show();a.click(function(){m(!0);v();da()})}}function da(){void 0!=b.cameraAlias&&(browserhelper.forceLog("Report inappropriate content: https://ipcamlive.com/reportabuse?alias="+b.cameraAlias),window.open("https://ipcamlive.com/reportabuse?alias="+b.cameraAlias))}function rb(){if(1!=b.disableDownloadButton){var a=d("btnDownload");a.show();a.click(function(a){m(!0);v();var e=c[0].src;
a=document.createElement("a");var d="";void 0!=b.cameraAlias&&(d=b.cameraAlias);void 0!=U&&""!=U&&(""!=d&&(d+="_"),d+=U.toLowerCase());""==d&&(d="video");d+=".mp4";a.setAttribute("href",e);a.setAttribute("download",d);document.createEvent?(e=document.createEvent("MouseEvents"),e.initEvent("click",!0,!0),a.dispatchEvent(e)):a.click&&a.click()})}}function y(a){if(c[0].paused||c[0].ended){if(0==b.disableUserPause&&void 0!=q&&q.addClass(g("paused")),void 0==a||0==a)a=c[0].play(),ra(),void 0!==a&&a.then(function(){V=
!0}).catch(function(a){browserhelper.forceLog("The browser is prevent to play video automatically. Error: "+a);b.onFirstPlay=null;V=!1;$(window).scroll(void 0);window.setTimeout(function(){J();ha();E(!1,0,0,!0);za();d("bigPlay").show()},150)})}else 0==b.disableUserPause&&(void 0!=q&&q.removeClass(g("paused")),c[0].pause(),J());b.isLiveMode&&(c[0].paused?d("liveText").text(ipcLocale.paused):d("liveText").text(ipcLocale.live))}function G(){var a=d("control");void 0!=a&&a.offset()&&(cb=a.offset().top)}
function x(a){ja||(ja=!0,d("control").stop().animate({bottom:0},{duration:500,step:function(a,b){G();null!=z&&z(a,b)}}),void 0!=b.title&&d("titleBar").stop().animate({top:0},{duration:500}));null!=r&&(window.clearInterval(r),r=null);0<a&&(r=window.setInterval(function(){ea(!1)},a))}function ea(a){if(0!=a||!c[0].paused&&!R)a=1==a?0:500,d("control").stop().animate({bottom:-28},{duration:a,step:function(a,b){G();null!=z&&z(a,b)}}),void 0!=b.title&&d("titleBar").stop().animate({top:-40},{duration:a}),
ja=!1,db(),eb()}function v(){b.isMobile&&x(3E3)}function db(){null!=r&&(window.clearInterval(r),r=null)}function fb(a){b.setSpeedControlState&&b.setSpeedControlState(d("playbackSpeedsDiv"),a)}function ua(){P=null;d("playbackSpeedsDiv").hide();R=!1;b.isMobile&&x(3E3);fb(!1)}function Xa(){R=!0;null!=P&&clearTimeout(P);d("playbackSpeedsDiv").show();db();fb(!0)}function Da(){0==b.disableBufferingAnim&&0==la&&(d("loadingSpinnerContainer").fadeIn(100),la=!0)}function ha(){0==b.disableBufferingAnim&&1==
la&&(d("loadingSpinnerContainer").fadeOut(100),la=!1)}function ra(){J();ma=window.setInterval(function(){1==Ea?1==fa?ha():Da():0==W?(X=c[0].currentTime,W=Date.now(),0==X&&Da()):X!=c[0].currentTime?(X=c[0].currentTime,W=Date.now(),ha()):3E3<=Date.now()-W&&Da()},500)}function J(){null!=ma&&(window.clearTimeout(ma),ma=null,W=X=0)}function g(a){return"ipc-"+a}function d(a){return $("#"+(b.videoContainerTag+"_"+a))}function p(a,c,f,h,k){var e="<div id="+(b.videoContainerTag+"_"+c);e=void 0==f?e+' class="'+
g(c)+'"':e+' class="'+g(f)+'"';void 0!=h&&(e=e+' title="'+h+'"');e+=">";void 0!=k&&(e+=k);a.append(e+"</div>");return d(c)}function h(a,c,f,h,k){for(var e=' class="',l=0;l<f.length;l++)e+=g(f[l]),e=l==f.length-1?e+'"':e+" ";f="<div id="+(b.videoContainerTag+"_"+c)+e;void 0!=h&&(f=f+' title="'+h+'"');f+=">";void 0!=k&&(f+=k);a.append(f+"</div>");return d(c)}function na(a,c,f){void 0==f?a.append("<span id="+(b.videoContainerTag+"_"+c)+' class="'+g(c)+'"></span>'):a.append("<span id="+(b.videoContainerTag+
"_"+c)+' class="'+g(f)+'"></span>');return d(c)}function K(){null!=M&&(window.clearInterval(M),M=null)}function ba(){null!=N&&(window.clearInterval(N),N=null)}function E(a,e,f,g){K();ba();if(!b.isReembedAvailable||0!=b.isReembedAvailable())if(!a)N=window.setInterval(function(){ba();c[0].paused||(browserhelper.log("Stop playing due player is invisible."),y());if(0!=b.isLiveMode&&(b.autoplay=!1,ea(!0),pa(),(1==wa||1==g)&&b.onHide)){var a=b.onHide();void 0!=a&&a.setPauseComeFromUser(w)}},e);else if(V&&
c[0].paused&&0==w)browserhelper.log("Start playing due player is visible again."),ipcamlivehelper.createTimeout(function(){1==c[0].paused&&(d("bigPlay").show(),d("bigPlay").fadeOut(f-150))},100),M=window.setInterval(function(){K();if(0!=c[0].paused&&(d("bigPlay").trigger("click",["force"]),b.onShow))b.onShow(!0)},f);else if(V&&c[0].paused&&b.onShow)b.onShow(!1)}function Pa(a){E("hidden"!==document.visibilityState,1==b.stopRightAfterInvisible?250:1E4,2E3,!1)}function Ta(){Ja()}function Fa(){d("btnSound").removeClass(g("sound")).removeClass(g("sound2")).addClass(g("muted"));
c[0].muted?d("volumeBar").css("width",0):Y(0,c[0].volume)}function lb(a){d("volume").on("mousedown",function(a){Q=!0;c[0].muted=!1;Y(a.pageX);v()});$(document).on("mouseup",function(a){Q&&(Q=!1,Y(a.pageX),v())});$(document).on("mousemove",function(a){Q&&(Y(a.pageX),v())});d("btnSound").click(function(){c[0].muted=!c[0].muted;m(!0);ia();Fa();v()});Y(0,a)}function Y(a,b){var e=d("volume");a=b?100*b:100*(a-e.offset().left)/e.width();100<a?a=100:0>a&&(a=0);d("volumeBar").css("width",a+"%");c[0].volume=
a/100;0==c[0].volume?d("btnSound").removeClass(g("sound")).removeClass(g("sound2")).addClass(g("muted")):.5<c[0].volume?d("btnSound").removeClass(g("muted")).removeClass(g("sound")).addClass(g("sound2")):d("btnSound").removeClass(g("muted")).removeClass(g("sound2")).addClass(g("sound"))}function gb(){1!=Z&&(Z=!0,d("progressDiv").animate({height:10},{duration:150,step:function(a,b){d("control").css("height",28+a-3+"px")}}))}function eb(){0!=Z&&(Z=!1,d("progressDiv").animate({height:3},{duration:150,
step:function(a,b){d("control").css("height",28+a-3+"px")}}))}function kb(){var a=!1;0==b.isMobile&&d("progressDiv").hover(function(){gb()},function(){eb()});d("progressDiv").on("mousedown",function(c){1==b.isMobile&&0==Z&&gb();a=0==b.isMobile;Ga(c.pageX);v()});$(document).on("mouseup",function(b){a&&(a=!1,Ga(b.pageX))});$(document).on("mousemove",function(b){a&&Ga(b.pageX)});c.on("timeupdate",function(){var a=c[0].currentTime,b=c[0].duration,g=100*a/b;d("timeBar").css("width",g+"%");hb(a,b)});hb(0,
c[0].duration)}function Ga(a){var b=d("progressDiv"),f=c[0].duration;a=100*(a-b.offset().left)/b.width();100<a&&(a=100);0>a&&(a=0);d("#timeBar").css("width",a+"%");c[0].currentTime=f*a/100}function va(){if(0==c[0].buffered.length)setTimeout(va,500);else{var a=c[0].duration,b=c[0].buffered.end(0),f=100*b/a;d("bufferBar").css("width",f+"%");b<a&&setTimeout(va,500)}}function hb(a,b){a=ib(a);b=ib(b);""!=a&&""!=b?d("timeText").text(a+" / "+b):d("timeText").text("")}function ib(a){var b=10>Math.floor(a/
60)?"0"+Math.floor(a/60):Math.floor(a/60);a=10>Math.floor(a-60*b)?"0"+Math.floor(a-60*b):Math.floor(a-60*b);return isNaN(b)||isNaN(a)?"":b+":"+a}function T(){return d("bigPlay").length?1>d("bigPlay")[0].style.opacity?!0:!1:!0}function Za(){d("bigPlay")[0].style.opacity=.5}function za(){d("bigPlay").length&&(S(ipc_html5_controls.ButtonStateNormal),d("bigPlay")[0].style.opacity=1);m(!0)}function ia(){void 0!=n&&n.stop().animate({opacity:0},{duration:250,complete:function(){n.remove()}})}function m(a){1==
a&&clearInterval(I);if(void 0==k)return!1;k.stop().animate({opacity:0},{duration:250,complete:function(){k.remove();k=void 0}});return!0}function ab(){if(1!=c[0].paused){void 0==k&&(F=15,k=h(l,"alreadyWatchDiv",["unmuteButton"]),k.css("opacity",0),h(k,"alreadyViewText",["alreadyViewText","noselect"]).text(ipcLocale.alreadyViewing),h(k,"countDownText",["alreadyViewText","noselect"]).text(ipcLocale.playingWillStop+" "+F),k.stop().animate({opacity:1},{duration:250}),k.on("click",function(){m(!0)}),clearInterval(I),
I=setInterval(function(){d("countDownText").text(ipcLocale.playingWillStop+" "+F);F--;0==F?m(!1):0>F&&(clearInterval(I),b.onHide())},1E3));var a=.6*c[0].clientWidth;320<a&&(a=320);k.width(a);textFit(k[0],{minFontSize:1,maxFontSize:20,multiLine:!1,alignHoriz:!0,alignVert:!0,widthOnly:!0});k.height(k[0].children[0].style.height);a=c[0].clientWidth/2-k.width()/2;var e=c[0].clientHeight/2-k.height()/2;k.offset({left:a,top:e})}}var b=null,c=null,l=null,u=null,t=!1,w=!0,cb=0,A=!0,ta=null,ya=!1,L=!1,Z=!1,
fa=!1,wa=!1,U=void 0,Ya=!1,xa=void 0,sa=void 0,Qa=!1,Ra=!1,Aa=0,Ba=0,Ha=0,Ia=0,r=null,ja=!1,R=!1,q=void 0,O=[.5,1,1.5,2],P=null,H=null,D=null,N=null,M=null,z=null,ca=void 0,V=!1,ma=null,la=!1,X=0,W=0,Ea=!1,Q=!1,n=void 0,k=void 0,I=void 0,F=0;this.ipc_attachVideoControls=function(a){b={};$.extend(b,a);a=browserhelper.isMobileBrowser();b.snapShotEnabled=b.snapshotEnabled&&captureFrameHelper.isSupported();b.audioEnabled=1==b.audioEnabled&&1==b.isLiveMode;b.disableDownloadButton=b.disableDownloadButton||
a||1==b.isLiveMode;c=$("#"+b.videoTag);u=l=$("#"+b.videoContainerTag);c.on("loadedmetadata",Va);Ea=is.chrome()&&a&&57==parseInt(platform.version);1==Ea&&browserhelper.log("Chrome 57 on mobile detected. Video.currentTime property is broken, use workaround.");sa=ipcamliveHostManager.getHostURL(dependencyhelper.createVersionedCSSFileName("player/html5player/ipcamliveplayer",IPC_PLAYER_CCS_VERSION));dependencyhelper.load_css(sa,Ta)};this.ipc_detachVideoControls=function(){Sa()};this.doPlay=function(){y(!1)};
this.getClass=function(a){return g(a)};this.hidePlay=function(){d("bigPlay").length?Za():ya=!0};this.showPlay=function(){ya=!1;za()};this.showLoadingSpinner=function(){ra()};this.get_video=function(){return c};this.get_isVideoFit=function(){return t};this.get_controlBarTop=function(){G();return cb};this.get_controlBarHeight=function(){return 28};this.set_onControlBarMove=function(a){z=a};this.set_HDState=function(a){var b=d("hdIcon");1==a?b.show():b.hide()};this.set_WSState=function(a){var b=d("wsText");
1==a?b.show():b.hide()};this.set_showLiveResolution=function(a){if(0!=b.isLiveMode)if(1==a)c.on("timeupdate",function(){if(0==Ia||1E3<=Date.now()-Ia)Ia=Date.now(),Ha!=c[0].videoHeight&&(Ha=c[0].videoHeight,d("liveText").text(ipcLocale.live+" ("+Ha+"p)"))});else c.off("timeupdate")};this.set_doNotStartOnBigPlay=function(){Ya=!0};this.set_autoStartAfterPlayerVisibleAgain=function(){V=!0};this.set_onFirstPlay=function(a){b.onFirstPlay=a};this.doVisibilityChange=function(a,b){if(a)return E(a,b,2E3,!1),
!0;if(c[0].paused)return!1;E(a,b,2E3,!1);return!0};this.setSource=function(a,d,f){Sa();b.source=a;b.posterURL=d;Ja();c[0].src=a;U=f};this.setSourceName=function(a){U=a};this.overrideFullscreenElement=function(a){u=a};this.setDiscardClickEvent=function(a){xa=a};this.setPauseComeFromUser=function(a){w=a};this.updateFit=function(){$a(!1)};this.setUnmuteButton=function(a){void 0==n&&(n=p(l,"unmuteButton"),n.css("opacity",0),p(n,"unmuteImage"),ipcStyleManager.applyBaseImage(n,g("unmuteImage"),b.style.icons.bitmap1,
b.style),h(n,"unmuteText",["unmuteText","noselect"]).text(ipcLocale.unmute),n.stop().animate({opacity:1},{duration:250}),n.on("click",function(){ia();c&&c[0]&&(c[0].muted=!1,Fa())}),setTimeout(function(){ia()},3E4),Fa());n.offset(a)};this.showContinueWatchMessage=function(){ab()}}ipc_html5_controls.PlayerTypeNative=1;ipc_html5_controls.PlayerTypeMSE=2;ipc_html5_controls.PlayerTypeWS=3;ipc_html5_controls.ButtonStateNormal=1;ipc_html5_controls.ButtonStateSelected=2;
var language_en=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "en-en",\n                "version": 1,\n                "minTimelapsePanelWidth": 125\n            },\n            "texts":\n            {\n                "live": "LIVE",\n                "paused": "PAUSED",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "Using WebSocket",\n                "longLapse": "Long-lapse",\n                "html5PlayerNative": "HTML5 Player (Native)",\n                "html5PlayerMSE": "HTML5 Player (MSE)",\n                "html5PlayerWebSocket": "HTML5 Player (WebSocket)",\n                "liveStreaming": "Live Streaming for IP Cameras",\n                "reportContent": "Report inappropriate content",\n                "playButtonHint": "Play/Pause video",\n                "fitButtonHint": "Toggle video fit mode",\n                "fullScreenButtonHint": "Toggle full screen",\n                "fullScreenUnavailable": "Full screen is unavailable",\n                "downloadTimelapseHint": "Download timelapse video",\n                "downloadSnapshotHint": "Download snapshot image",\n                "volumeButtonHint": "Change volume",\n                "muteButtonHint": "Mute/Unmute sound",\n                "playbackSpeedButtonHint": "Change playback speed",\n                "hdStream": "HD Stream",\n                "cameraStartInSec": "Camera starts in",\n                "cameraStartSoon": "Camera starts soon.",\n                "tokenExpired": "Token expired. Please reload the page.",\n                "cannotEmbedd": "This camera cannot be embedded.",\n                "cannotEmbeddDomain": "This camera cannot be embedded on this domain.",\n                "cannotEmbeddPackege": "This camera cannot be embedded. Switch to Standard or Professional package for embedding.",\n                "cameraNotAvailable": "Camera is not available",\n                "unmute": "Unmute",\n                "alreadyViewing": "Click to continue watching!",\n                "playingWillStop": "Playing will stop in"\n            }\n        }\n    '),
timeData:{dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}}},language_hu=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "hu-hu",\n                "version": 1,\n                "minTimelapsePanelWidth": 125\n            },\n            "texts":\n            {\n                "live": "\u00c9L\u0150",\n                "paused": "MEG\u00c1LLITVA",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "WebSocket haszn\u00e1latban",\n                "longLapse": "Long-lapse",\n                "html5PlayerNative": "HTML5 Lej\u00e1tsz\u00f3 (Nativ)",\n                "html5PlayerMSE": "HTML5 Lej\u00e1tsz\u00f3 (MSE)",\n                "html5PlayerWebSocket": "HTML5 Lej\u00e1tsz\u00f3 (WebSocket)",\n                "liveStreaming": "\u00c9l\u0151 k\u00f6zvet\u00edt\u00e9s IP kamer\u00e1khoz",\n                "reportContent": "Jelent\u00e9s a nem megfelel\u0151 tartalomr\u00f3l",\n                "playButtonHint": "Vide\u00f3 lej\u00e1tsz\u00e1s/meg\u00e1llit\u00e1s",\n                "fitButtonHint": "Illeszt\u00e9si m\u00f3d v\u00e1ltoztat\u00e1sa",\n                "fullScreenButtonHint": "Teljes k\u00e9perny\u0151s m\u00f3d v\u00e1ltoztat\u00e1sa",\n                "fullScreenUnavailable": "Teljes k\u00e9perny\u0151s m\u00f3d nem el\u00e9rhet\u0151",\n                "downloadTimelapseHint": "Timelapse vide\u00f3 let\u00f6lt\u00e9se",\n                "downloadSnapshotHint": "Pillanatk\u00e9p let\u00f6lt\u00e9se",\n                "volumeButtonHint": "Hanger\u0151 \u00e1llit\u00e1s",\n                "muteButtonHint": "Hang N\u00e9mit\u00e1s/Bekapcsol\u00e1s",\n                "playbackSpeedButtonHint": "Lej\u00e1tsz\u00e1si sebess\u00e9g v\u00e1ltoztat\u00e1sa",\n                "hdStream": "Nagyfelbont\u00e1s\u00fa vide\u00f3",\n                "cameraStartInSec": "Kamera indul: ",\n                "cameraStartSoon": "Kamera hamarosan indul.",\n                "tokenExpired": "Lej\u00e1rt t\u00f3ken. Kerj\u00fck frissitse az oldalt.",\n                "cannotEmbedd": "Ez a kamera nem \u00e1gyazhat\u00f3 be.",\n                "cannotEmbeddDomain": "Ezen a domain-en ez a kamera nem \u00e1gyazhat\u00f3 be.",\n                "cannotEmbeddPackege": "Ez a kamera nem \u00e1gyazhat\u00f3 be. V\u00e1ltson Standard vagy Professional csomagra.",\n                "cameraNotAvailable": "Kamera nem el\u00e9rhet\u0151",\n                "unmute": "Hang",\n                "alreadyViewing": "Kattints a lej\u00e1tsz\u00e1s folytat\u00e1s\u00e1hoz!",\n                "playingWillStop": "A lej\u00e1tsz\u00e1s meg\u00e1ll:"\n            }\n        }\n    '),
timeData:{dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:"vas\u00e1rnap h\u00e9tf\u0151 kedd szerda cs\u00fct\u00f6rt\u00f6k p\u00e9ntek szombat".split(" "),shortDays:"V H K Sze Cs P Szo".split(" "),months:"janu\u00e1r febru\u00e1r m\u00e1rcius \u00e1prilis m\u00e1jus j\u00fanius j\u00falius augusztus szeptember okt\u00f3ber november december".split(" "),shortMonths:"jan. feb. m\u00e1r. \u00e1pr. m\u00e1j. j\u00fan. j\u00fal. aug. szept. okt. nov. dec.".split(" ")}}},
language_cz=function(){return{textData:JSON.parse('\n        {\n            "header":\n            {\n                "locale": "cs-cz",\n                "version": 1,\n                "minTimelapsePanelWidth": 145\n            },\n            "texts":\n            {\n                "live": "\u017dIV\u00c9 VYS\u00cdL\u00c1N\u00cd",\n                "paused": "POZASTAVENO",\n                "webSocketPostFix": "-WS",\n                "webSocketHint": "Using WebSocket",\n                "longLapse": "Z\u00e1znam budky",\n                "html5PlayerNative": "HTML5 Player (Native)",\n                "html5PlayerMSE": "HTML5 Player (MSE)",\n                "html5PlayerWebSocket": "HTML5 Player (WebSocket)",\n                "liveStreaming": "\u017div\u00e9 vys\u00edl\u00e1n\u00ed pro IP kamery",\n                "reportContent": "Nahl\u00e1sit nevhodn\u00fd obsah",\n                "playButtonHint": "P\u0159ehr\u00e1t / Pozastavit video",\n                "fitButtonHint": "P\u0159epnout re\u017eim videa",\n                "fullScreenButtonHint": "P\u0159epnout na celou obrazovku",\n                "fullScreenUnavailable": "Cel\u00e1 obrazovka nen\u00ed k dispozici",\n                "downloadTimelapseHint": "St\u00e1hout \u010dasosb\u011brn\u00e9 video",\n                "downloadSnapshotHint": "St\u00e1hnout sn\u00edmek",\n                "volumeButtonHint": "Zm\u011bna hlasitosti",\n                "muteButtonHint": "Ztlumit / Spustit zvuk",\n                "playbackSpeedButtonHint": "Zm\u011bna rychlosti p\u0159ehr\u00e1v\u00e1n\u00ed",\n                "hdStream": "HD kvalita",\n                "cameraStartInSec": "Kamera spu\u0161tena: ",\n                "cameraStartSoon": "Kamera se spust\u00ed brzy.",\n                "tokenExpired": "Platnost tokenu vypr\u0161ela. Znovu na\u010dt\u011bte str\u00e1nku.",\n                "cannotEmbedd": "Tuto kameru nelze vlo\u017eit.",\n                "cannotEmbeddDomain": "Tuto kameru nelze do t\u00e9to dom\u00e9ny vlo\u017eit.",\n                "cannotEmbeddPackege": "Tuto kameru nelze vlo\u017eit. P\u0159i vkl\u00e1d\u00e1n\u00ed p\u0159epn\u011bte na bal\u00ed\u010dek Standard nebo Professional.",\n                "cameraNotAvailable": "Kamera nen\u00ed k dispozici",\n                "unmute": "Ignorovat",\n                "alreadyViewing": "Kliknut\u00edm pokra\u010dujte v sledov\u00e1n\u00ed!",\n                "playingWillStop": "Hran\u00ed se zastav\u00ed"\n            }\n        }\n    '),
timeData:{dateTime:"%A,%e.%B %Y, %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dvrtek p\u00e1tek sobota".split(" "),shortDays:"ne. po. \u00fat. st. \u010dt. p\u00e1. so.".split(" "),months:"leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" "),shortMonths:"led \u00fano b\u0159ez dub kv\u011b \u010der \u010derv srp z\u00e1\u0159 \u0159\u00edj list pros".split(" ")}}},
builtInLanguages=[language_en(),language_hu(),language_cz()];
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,g=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var f=0;f<g&&b<e;)if(c[b++]!=a[f++])return!1;return f>=g}},"es6","es3");
var ipcLocalizationManager=new function(){this.getCurrentLocale=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en"};this.setLocale=function(a,c){a:{if(void 0!=a&&"string"===typeof a){for(b in builtInLanguages)if(builtInLanguages[b].textData.header.locale==a.toLowerCase()){var b=builtInLanguages[b];break a}for(b in builtInLanguages)if(builtInLanguages[b].textData.header.locale.startsWith(a.toLowerCase())){b=
builtInLanguages[b];break a}}b=void 0}void 0==b?(browserhelper.log("Unsupported localization: "+a),void 0!==c&&1==c&&this.setLocale("en-en")):(browserhelper.log("Localization: "+a),ipcLocale=b.textData.texts,ipcLocaleHead=b.textData.header,ipcTimeLocal=b.timeData,d3.timeFormatDefaultLocale(ipcTimeLocal))};this.setDefaultLocale=function(){this.setLocale("en-en",!0)};this.autoSetLocale=function(){this.setLocale(this.getCurrentLocale(),!0)};this.setLocaleFromParam=function(a){void 0==a||"string"!==typeof a?
this.setDefaultLocale():(a=a.toLowerCase(),"auto"==a?this.autoSetLocale():this.setLocale(a,!0))}},ipcLM=ipcLocalizationManager,ipcLocale=void 0,ipcLocaleHead=void 0,ipcTimeLocal=void 0;
var ipcStyleManager=new function(){var e=function(a){dependencyhelper.preload_image(a.playButton.bitmap);var b=a.icons,d;for(d in b)dependencyhelper.preload_image(b[d]);dependencyhelper.preload_image(a.loading.connecting.anim);dependencyhelper.preload_image(a.loading.buffering.anim)};this.inheritStyle=function(a,b,d){try{void 0!=browserhelper.deepTest(a,"playButton.width")&&void 0==browserhelper.deepTest(a,"playButton.maxWidth")&&(a.playButton.maxWidth=a.playButton.width),void 0!=browserhelper.deepTest(a,
"loading.connecting.width")&&void 0==browserhelper.deepTest(a,"loading.connecting.maxWidth")&&(a.loading.connecting.maxWidth=a.loading.connecting.width),void 0!=browserhelper.deepTest(a,"loading.buffering.width")&&void 0==browserhelper.deepTest(a,"loading.buffering.maxWidth")&&(a.loading.buffering.maxWidth=a.loading.buffering.width)}catch(c){}b=this.getStyleByName(a.originalSkin,b,!1);a=$.extend(!0,{},b,a);!0===d&&e(a);return a};this.getStyleByName=function(a,b,d){var c=void 0;void 0!=a&&("string"===
typeof a||a instanceof String)&&(a=a.toLowerCase(),"fullwhite"==a?c=JSON.parse('\n\t\t\t{\n\t\t\t\t"originalSkin": "default",\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#FFF",\n\t\t\t\t\t"mainDark": "#AAA"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "fullwhite/base_image_1.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "fullwhite/bigplay.png"\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"openPanel": "fullwhite/open_panel.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "fullwhite/connecting.gif"\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "fullwhite/buffering.gif"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "fullwhite/logo.png"\n\t\t\t\t}\n\t\t\t}\n\t\t'):
"white"==a&&(c=JSON.parse('\n\t\t\t{\n\t\t\t\t"originalSkin": "default",\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#CCC",\n\t\t\t\t\t"mainDark": "#888"\n\t\t\t\t},\n\t\t\t\t"text":\n\t\t\t\t{\n\t\t\t\t\t"color": "#CCC"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "white/base_image_1.png",\n\t\t\t\t\t"bitmap2": "white/base_image_2.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "white/bigplay.png"\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"openPanel": "white/open_panel.png",\n\t\t\t\t\t"itemPointer": "white/item_pointer.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "white/connecting.gif"\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "white/buffering.gif"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "white/logo.png",\n\t\t\t\t\t"textColor": "#CCC"\n\t\t\t\t}\n\t\t\t}\n\t\t')),
void 0!=c&&(c=this.inheritStyle(c,!1,!1)));void 0==c&&(c=JSON.parse('\n\t\t\t{\n\t\t\t\t"colors":\n\t\t\t\t{\n\t\t\t\t\t"main": "#FF9F2E",\n\t\t\t\t\t"mainDark": "#F36D0A",\n\t\t\t\t\t"panelsBackground": "#1F1F1F",\n\t\t\t\t\t"panelsBackgroundDark": "#555",\n\t\t\t\t\t"panelsBackgroundOpacity": "0.75",\n\t\t\t\t\t"videoBackground": "#000",\n\t\t\t\t\t"loadingBackground": "#000"\n\t\t\t\t},\n\t\t\t\t"text":\n\t\t\t\t{\n\t\t\t\t\t"color": "#FFF",\n\t\t\t\t\t"fontFamily": "arial"\n\t\t\t\t},\n\t\t\t\t"icons":\n\t\t\t\t{\n\t\t\t\t\t"bitmap1": "orange/base_image_1.png",\n\t\t\t\t\t"bitmap2": "shared/base_image_2.png"\n\t\t\t\t},\n\t\t\t\t"playButton":\n\t\t\t\t{\n\t\t\t\t\t"bitmap": "orange/bigplay.png",\n\t\t\t\t\t"width": 128,\n\t\t\t\t\t"height": 128,\n\t\t\t\t\t"maxWidth": 100,\n\t\t\t\t\t"minWidth": 50\n\t\t\t\t},\n\t\t\t\t"timelapse":\n\t\t\t\t{\n\t\t\t\t\t"panelWidth": 125,\n\t\t\t\t\t"openPanel": "orange/open_panel.png",\n\t\t\t\t\t"itemPointer": "shared/item_pointer.png"\n\t\t\t\t},\n\t\t\t\t"loading":\n\t\t\t\t{\n\t\t\t\t\t"connecting":\n\t\t\t\t\t{\n\t\t\t\t\t\t"anim": "orange/connecting.gif",\n\t\t\t\t\t\t"width": 270,\n\t\t\t\t\t\t"height": 120\n\t\t\t\t\t},\n\t\t\t\t\t"buffering":\n\t\t\t\t\t{\n\t\t\t\t\t\t"enabled": true,\n\t\t\t\t\t\t"anim": "orange/buffering.gif",\n\t\t\t\t\t\t"width": 270,\n\t\t\t\t\t\t"height": 120,\n\t\t\t\t\t\t"showBackgroundPanel": true\n\t\t\t\t\t},\n\t\t\t\t\t"limits": {\n\t\t\t\t\t\t"maxWidth": 150,\n\t\t\t\t\t\t"minWidth": 50\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"errorPage":\n\t\t\t\t{\n\t\t\t\t\t"icon": "orange/logo.png",\n\t\t\t\t\t"textColor": "#FFF",\n\t\t\t\t\t"backgroundColor": "#000"\n\t\t\t\t}\n\t\t\t}\n\t\t'));
if(void 0==b||!0===b)b=c,a=ipcamliveHostManager.getImagePathURL(),b.playButton.bitmap=a+b.playButton.bitmap,b.playButton.stateCount=2,b.icons.bitmap1=a+b.icons.bitmap1,b.icons.bitmap2=a+b.icons.bitmap2,b.timelapse.openPanel=a+b.timelapse.openPanel,b.timelapse.itemPointer=a+b.timelapse.itemPointer,b.loading.connecting.anim=a+b.loading.connecting.anim,b.loading.buffering.anim=a+b.loading.buffering.anim,b.errorPage.icon=a+b.errorPage.icon;!0===d&&e(c);return c};this.buildFilters=function(a){return""};
this.buildCSSFilterString=function(a){a=this.buildFilters(a);""!==a&&(a=" filter: "+a+"; -webkit-filter: "+a+";");return a};this.applyFilters=function(a,b){b=this.buildFilters(b);""!==b&&(a.css("filter",b),a.css("-webkit-filter",b))};this.applyBaseImage=function(a,b,d,c){a=a.children("."+b);a.css("background-image","url("+d+")");a.css("background-size","128px 128px");this.applyFilters(a,c.filters)};this.getBitmapURL=function(a){return"url("+a+")"};this.setOpacity=function(a,b){a.css("opacity",b)};
this.setBackgroundColor=function(a,b){a.css("background-color",b)};this.setPanelStyle=function(a,b){this.setOpacity(a,b.colors.panelsBackgroundOpacity);this.setBackgroundColor(a,b.colors.panelsBackground)};this.setBackgroundImage=function(a,b,d){a.css("background-image",this.getBitmapURL(b));this.applyFilters(a,d.filters)};this.removeBackgroundImage=function(a,b){a.css("background-image","")};this.setColor=function(a,b){a.css("color",b)};this.removeColor=function(a,b){a.css("color","")};this.applyProgressBarStyle=
function(a,b,d,c){a.children(".ipc-meter").css("background-color",b);a.children(".ipc-meterMobile").css("background-color",b);b=browserhelper.hexToRgb(d);c="rgba("+b.r+","+b.g+","+b.b+","+c+")";a.children(".ipc-stripes > span").css("background-image","-webkit-gradient(linear, 0 0, 100% 100%,color-stop(.25,"+c+"),color-stop(.25, transparent), color-stop(.5, transparent),color-stop(.5,"+c+"),color-stop(.75,"+c+"),color-stop(.75, transparent), to(transparent))");a.children(".ipc-stripes > span").css("background-image",
"-moz-linear-gradient(-45deg,"+c+" 25%,transparent 25%,transparent 50%,"+c+" 50%,"+c+" 75%,transparent 75%,transparent)")};this.applyFontStyle=function(a,b,d){b="."+b;a.children(b).css("color",d.text.color);a.children(b).css("font-family",d.text.fontFamily);this.applyFilters(a,d.filters)};this.setFontStyle=function(a,b){a.css("color",b.text.color);a.css("font-family",b.text.fontFamily);this.applyFilters(a,b.filters)};this.setMainColorAndFont=function(a,b){a.css("color",b.colors.main);a.css("font-family",
b.text.fontFamily);this.applyFilters(a,b.filters)}};
function ipc_websocket_html5_controls(){function T(){null!=d&&(d.onopen=void 0,d.onclose=void 0,d.onmessage=void 0,d.close(),d=null,t=!1,K("Close socket, try reconnect."))}function L(){u=0;M(z()-1)}function N(){if(0!=u){var a=Date.now()-u;u=0;f("Wait "+a+"ms for data.");void 0!=b&&void 0!=b[0]&&4==b[0].readyState&&O(z())}}function P(){u=Date.now();B(!0,1)}function C(a){null!=v&&(A=!0,clearTimeout(D),null!=m&&(m.stop(),m=null),b.off("play",L),b.off("waiting",P),b.off("timeupdate",N),b.off("pause",
C),b[0].pause(),void 0!=a&&0!=a||b[0].setAttribute("poster",e.posterURL),n.ipc_detachVideoControls(),n=null,null!=d&&d.close(),c=k=v=null,l.length=0)}function U(){f("MediaSource Open");void 0!=k&&(k.duration=Math.pow(2,32));E()}function V(){b.on("pause",C);f("MediaSource ended")}function W(){f("MediaSource closed");null!=p&&p()}function X(a){browserhelper.forceLog("[ws] SourceBuffer error.");browserhelper.forceLog(a)}function Y(a){null!=c&&1!=c.updating&&(.001>b[0].currentTime&&b[0].buffered.length&&
(b[0].currentTime=b[0].buffered.start(0)),0<l.length&&(a=l[0],l.shift(),2==a.type?(f("Offset set"),c.timestampOffset=-a.timeOffset/1E3):a.frameData?c.appendBuffer(a.frameData):browserhelper.log("[ws] frameData null!")))}function F(a){G=!1;H=w=0;try{d=new WebSocket(v),d.binaryType="arraybuffer"}catch(g){return browserhelper.forceLog("[ws] Create WebSocket failed with URL: "+v),null!=p&&p(),!1}d.onopen=function(g){t=!0;I=0;Q=4294967295;n.set_WSState(!0);f("Socket connected.");null==k&&(f("attachMediaSource"),
A=!1,k=new MediaSource,k.onsourceopen=U,k.onsourceended=V,k.onsourceclose=W,b[0].src=window.URL.createObjectURL(k));e.autoplay||1==a?R(!1):n.showPlay()};d.onclose=function(a){d=null;t=!1;null!=m&&m.stop();1E4==a.code?f("Socket close. Connect on next play."):1!=A&&1E3<a.code&&(I++,I>=Q&&null!=p?null!=k?k.endOfStream():p():K("Socket closed with code: "+a.code+". Try reconnect."))};d.onmessage=Z;return!0}function Z(a){var b=new DataView(a.data,0),c=b.getUint8(0),h={type:c};if(2==c)h.headerVersion=b.getUint8(1),
h.hasAudio=1==b.getUint8(2),h.timeOffset=b.getUint32(3,!0);else if(0==c)h.timeOffset=b.getUint32(1,!0),h.frameCounter=b.getUint32(5,!0),h.frameData=new Uint8Array(a.data.slice(9)),-1<x&&x+1!=h.frameCounter&&f("Frame GAP! Prev: "+x+"; Current: "+h.frameCounter),5<h.frameCounter&&(x=h.frameCounter);else if(3==c){a=String.fromCharCode.apply(null,new Uint8Array(a.data.slice(1)));f("Received StreamID: "+a);e.streamID!==a&&(f("StreamID changed, wait for reembed. "+a+" <> "+e.streamID),A=!0,null!=d&&d.close(),
null!=p&&p(!0));return}l.push(h);E()}function aa(){F(!0)}function K(a){1!=G&&null!=n&&(clearTimeout(D),x=-1,l.length=0,J=-1,n.hidePlay(),D=setTimeout(aa,3E3),G=!0,browserhelper.log("[ws] "+a))}function E(){if(0!=l.length&&"open"==k.readyState&&0!=t&&(null==c||1!=c.updating)){var a=l[0];if(2==a.type){if(J==a.timeOffset)return;J=a.timeOffset;browserhelper.log("[ws] HeaderVersion: "+a.headerVersion);browserhelper.log("[ws] HasAudio:      "+a.hasAudio);browserhelper.log("[ws] TimeOffset:    "+a.timeOffset);
var g=a.hasAudio;null!=c?(c.remove(0,4294967295),b[0].currentTime=0,f("SourceBuffer already inited")):(f("Init SourceBuffer"),c=1==g?k.addSourceBuffer('video/mp4; codecs="avc1.4D4028,mp4a.40.2"'):k.addSourceBuffer('video/mp4; codecs="avc1.4D4028"'),c.mode="segments",c.addEventListener("updateend",Y),c.addEventListener("error",X));null!=c?0==c.updating&&(l.shift(),c.timestampOffset=-a.timeOffset/1E3,E()):(l.shift(),browserhelper.log("[ws] Cannot create sourcebuffer. Disconnect."),d.close(),b[0].load())}else if(0==
a.type){if(null==c){browserhelper.log("[ws] No SourceBuffer, drop.");l.shift();return}g=Date.now();if(1E3<=g-S&&0==u){S=g;f("MinBufSize: "+Math.round(q)+"ms; BufDataSize: "+Math.round(z())+"ms; Rate: "+b[0].playbackRate);g=z();var e=3E3<=g;if(1.5*q<g&&500<g||e){var h=q;e&&(h=1);0<h&&0<y?(e=g-h,f("To much delay, buffered data size: "+Math.round(g)+"ms, try skip "+Math.round(e)+"ms forward. (minimum buffer size is: "+Math.round(q)+"ms)"),M(e),y=0):y++}else 0==y&&(O(g),q<g&&400<g?B(!1,.05):B(!0,1)),
y=0}0==w&&(w=Date.now(),H=1E3*b[0].currentTime);l.shift();c.appendBuffer(a.frameData)}null!=m&&m.signal()}}function R(a){1==t?null!=d&&1==t&&(null!=m&&m.start(),d.send("TestWebSocketToken")):F(a)}function ba(){R(!0)}function f(a){1==e.webSocketVerboseLog&&browserhelper.forceLog("[ws] "+a)}function O(a){8<=r.length&&r.shift();r.push(a);for(var b=a=0;b<r.length;b++)a+=r[b];q=a/r.length;250>q&&(q=250)}function B(a,c){if(void 0!=b&&void 0!=b[0]){var d=b[0].playbackRate;if(1==a)a=c;else if(a=d+c,1.05<
a)return;.001<Math.abs(a-d)&&(b[0].playbackRate=a)}}function M(a){r.length=0;void 0!=b&&void 0!=b[0]&&0<a&&(f("Skip "+Math.round(a)+"ms"),b[0].currentTime+=a/1E3)}function z(){if(void 0==b||void 0==b[0])return 0;var a=b[0].buffered;return void 0==a||0==a.length?0:1E3*(a.end(a.length-1)-b[0].currentTime)}var v=null,e=null,b=null,n=null,p=null,d=null,k=null,c=null,l=[],t=!1,J=-1,G=!1,D=null,A=!1,x=-1,I=0,Q=2,w=0,H=0,u=0,S=0,y=0,q=0,r=[],m=null;this.attachVideoPlayer=function(a,c,d){null!=v&&this.detachVideoPlayer();
e={};$.extend(e,c);b=$("#"+e.videoTag);v=a;p=d;e.onFirstPlay=ba;is.safari()&&(e.disableVideoFit=!0);m=new basicWatchDog("[ws]",1E3,5E3,T);n=new ipc_html5_controls;n.ipc_attachVideoControls(e);n.hidePlay();b.on("play",L);b.on("waiting",P);b.on("timeupdate",N);return 1==F()?n:null};this.detachVideoPlayer=function(a){C(a)};this.getDelay=function(){if(0==w)var a=0;else a=Date.now(),a=Math.round(a-w-(1E3*b[0].currentTime-H));return a}};
(function(g,k){"function"===typeof define&&define.amd?define(function(){return g.is=k()}):"object"===typeof exports?module.exports=k():g.is=k()})(this,function(){function g(b){return function(){return!b.apply(null,l.call(arguments))}}function k(b){return function(){var c=l.call(arguments),e=c.length;1===e&&a.array(c[0])&&(c=c[0],e=c.length);for(var d=0;d<e;d++)if(!b.call(null,c[d]))return!1;return!0}}function t(b){return function(){var c=l.call(arguments),e=c.length;1===e&&a.array(c[0])&&(c=c[0],
e=c.length);for(var d=0;d<e;d++)if(b.call(null,c[d]))return!0;return!1}}function u(b,c){a[b]=function(a){return c[b].test(a)}}var q=this||global,v=q.is,a={VERSION:"0.8.0",not:{},all:{},any:{}},f=Object.prototype.toString,l=Array.prototype.slice,m=Object.prototype.hasOwnProperty;a.arguments=function(b){return a.not.null(b)&&("[object Arguments]"===f.call(b)||"object"===typeof b&&"callee"in b)};a.array=Array.isArray||function(a){return"[object Array]"===f.call(a)};a.boolean=function(a){return!0===a||
!1===a||"[object Boolean]"===f.call(a)};a.date=function(a){return"[object Date]"===f.call(a)};a.error=function(a){return"[object Error]"===f.call(a)};a.function=function(a){return"[object Function]"===f.call(a)||"function"===typeof a};a.nan=function(a){return a!==a};a.null=function(a){return null===a};a.number=function(b){return a.not.nan(b)&&"[object Number]"===f.call(b)};a.object=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};a.json=function(a){return"[object Object]"===f.call(a)};
a.regexp=function(a){return"[object RegExp]"===f.call(a)};a.sameType=function(b,c){return a.nan(b)||a.nan(c)?a.nan(b)===a.nan(c):f.call(b)===f.call(c)};a.sameType.api=["not"];a.string=function(a){return"[object String]"===f.call(a)};a.char=function(b){return a.string(b)&&1===b.length};a.undefined=function(a){return void 0===a};a.empty=function(b){if(a.object(b)){var c=Object.getOwnPropertyNames(b).length;return 0===c||1===c&&a.array(b)||2===c&&a.arguments(b)?!0:!1}return""===b};a.existy=function(a){return null!==
a&&void 0!==a};a.truthy=function(b){return a.existy(b)&&!1!==b&&a.not.nan(b)&&""!==b&&0!==b};a.falsy=g(a.truthy);a.space=function(b){return a.char(b)?(b=b.charCodeAt(0),8<b&&14>b||32===b):!1};a.equal=function(b,c){return a.all.number(b,c)?b===c&&1/b===1/c:a.all.string(b,c)||a.all.regexp(b,c)?""+b===""+c:a.all.boolean(b,c)?b===c:!1};a.equal.api=["not"];a.even=function(b){return a.number(b)&&0===b%2};a.odd=function(b){return a.number(b)&&1===b%2};a.positive=function(b){return a.number(b)&&0<b};a.negative=
function(b){return a.number(b)&&0>b};a.above=function(b,c){return a.all.number(b,c)&&b>c};a.above.api=["not"];a.under=function(b,c){return a.all.number(b,c)&&b<c};a.under.api=["not"];a.within=function(b,c,e){return a.all.number(b,c,e)&&b>c&&b<e};a.within.api=["not"];a.decimal=function(b){return a.number(b)&&0!==b%1};a.integer=function(b){return a.number(b)&&0===b%1};a.finite=isFinite||function(b){return Infinity!==b&&-Infinity!==b&&a.not.nan(b)};a.infinite=g(a.finite);var h={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,
email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])\/(3[01]|[12][0-9]|0?[1-9])\/(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,
nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-(?!00)[0-9]{2}-(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,
ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/},
n;for(n in h)h.hasOwnProperty(n)&&u(n,h);a.include=function(a,c){return-1<a.indexOf(c)};a.include.api=["not"];a.upperCase=function(b){return a.string(b)&&b===b.toUpperCase()};a.lowerCase=function(b){return a.string(b)&&b===b.toLowerCase()};a.startWith=function(b,c){return a.string(b)&&0===b.indexOf(c)};a.startWith.api=["not"];a.endWith=function(b,c){return a.string(b)&&-1<b.indexOf(c)&&b.indexOf(c)===b.length-c.length};a.endWith.api=["not"];a.capitalized=function(b){if(a.not.string(b))return!1;b=
b.split(" ");for(var c=[],e=0;e<b.length;e++)c.push(b[e][0]===b[e][0].toUpperCase());return a.all.truthy.apply(null,c)};a.palindrome=function(b){return a.string(b)&&b==b.split("").reverse().join("")};var w="sunday monday tuesday wednesday thursday friday saturday".split(" "),x="january february march april may june july august september october november december".split(" ");a.today=function(b){var c=(new Date).toDateString();return a.date(b)&&b.toDateString()===c};a.yesterday=function(b){var c=new Date;
c=(new Date(c.setDate(c.getDate()-1))).toDateString();return a.date(b)&&b.toDateString()===c};a.tomorrow=function(b){var c=new Date;c=(new Date(c.setDate(c.getDate()+1))).toDateString();return a.date(b)&&b.toDateString()===c};a.past=function(b){var c=new Date;return a.date(b)&&b.getTime()<c.getTime()};a.future=g(a.past);a.day=function(b,c){return a.date(b)&&c.toLowerCase()===w[b.getDay()]};a.day.api=["not"];a.month=function(b,c){return a.date(b)&&c.toLowerCase()===x[b.getMonth()]};a.month.api=["not"];
a.year=function(b,c){return a.date(b)&&a.number(c)&&c===b.getFullYear()};a.year.api=["not"];a.leapYear=function(b){return a.number(b)&&(0===b%4&&0!==b%100||0===b%400)};a.weekend=function(b){return a.date(b)&&(6===b.getDay()||0===b.getDay())};a.weekday=g(a.weekend);a.inDateRange=function(b,c,e){if(a.not.date(b)||a.not.date(c)||a.not.date(e))return!1;b=b.getTime();c=c.getTime();e=e.getTime();return b>c&&b<e};a.inDateRange.api=["not"];a.inLastWeek=function(b){return a.inDateRange(b,new Date((new Date).setDate((new Date).getDate()-
7)),new Date)};a.inLastMonth=function(b){return a.inDateRange(b,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)};a.inLastYear=function(b){return a.inDateRange(b,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)};a.inNextWeek=function(b){return a.inDateRange(b,new Date,new Date((new Date).setDate((new Date).getDate()+7)))};a.inNextMonth=function(b){return a.inDateRange(b,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))};a.inNextYear=function(b){return a.inDateRange(b,
new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))};a.quarterOfYear=function(b,c){return a.date(b)&&a.number(c)&&c===Math.floor((b.getMonth()+3)/3)};a.quarterOfYear.api=["not"];a.dayLightSavingTime=function(a){var b=new Date(a.getFullYear(),0,1),e=new Date(a.getFullYear(),6,1);b=Math.max(b.getTimezoneOffset(),e.getTimezoneOffset());return a.getTimezoneOffset()<b};if("undefined"!==typeof window){var d="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||
"",r="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",p="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"";a.chrome=function(){return/chrome|chromium/i.test(d)&&/google inc/.test(r)};a.chrome.api=["not"];a.firefox=function(){return/firefox/i.test(d)};a.firefox.api=["not"];a.edge=function(){return/edge/i.test(d)};a.edge.api=["not"];a.ie=function(a){return a?11<=a?"ActiveXObject"in window:(new RegExp("msie "+a)).test(d):/msie/i.test(d)||
"ActiveXObject"in window};a.ie.api=["not"];a.opera=function(){return/^Opera\//.test(d)||/\x20OPR\//.test(d)};a.opera.api=["not"];a.safari=function(){return/safari/i.test(d)&&/apple computer/i.test(r)};a.safari.api=["not"];a.ios=function(){return a.iphone()||a.ipad()||a.ipod()};a.ios.api=["not"];a.iphone=function(){return/iphone/i.test(d)};a.iphone.api=["not"];a.ipad=function(){return/ipad/i.test(d)};a.ipad.api=["not"];a.ipod=function(){return/ipod/i.test(d)};a.ipod.api=["not"];a.android=function(){return/android/i.test(d)};
a.android.api=["not"];a.androidPhone=function(){return/android/i.test(d)&&/mobile/i.test(d)};a.androidPhone.api=["not"];a.androidTablet=function(){return/android/i.test(d)&&!/mobile/i.test(d)};a.androidTablet.api=["not"];a.blackberry=function(){return/blackberry/i.test(d)||/BB10/i.test(d)};a.blackberry.api=["not"];a.desktop=function(){return a.not.mobile()&&a.not.tablet()};a.desktop.api=["not"];a.linux=function(){return/linux/i.test(p)};a.linux.api=["not"];a.mac=function(){return/mac/i.test(p)};a.mac.api=
["not"];a.windows=function(){return/win/i.test(p)};a.windows.api=["not"];a.windowsPhone=function(){return a.windows()&&/phone/i.test(d)};a.windowsPhone.api=["not"];a.windowsTablet=function(){return a.windows()&&a.not.windowsPhone()&&/touch/i.test(d)};a.windowsTablet.api=["not"];a.mobile=function(){return a.iphone()||a.ipod()||a.androidPhone()||a.blackberry()||a.windowsPhone()};a.mobile.api=["not"];a.tablet=function(){return a.ipad()||a.androidTablet()||a.windowsTablet()};a.tablet.api=["not"];a.online=
function(){return navigator.onLine};a.online.api=["not"];a.offline=g(a.online);a.offline.api=["not"];a.touchDevice=function(){return"ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch};a.touchDevice.api=["not"]}a.propertyCount=function(b,c){if(!a.object(b)||!a.number(c))return!1;if(Object.keys)return Object.keys(b).length===c;var e=[],d;for(d in b)m.call(b,d)&&e.push(d);return e.length===c};a.propertyCount.api=["not"];a.propertyDefined=function(b,c){return a.object(b)&&
a.string(c)&&c in b};a.propertyDefined.api=["not"];a.windowObject=function(a){return"object"===typeof a&&"setInterval"in a};a.domNode=function(b){return a.object(b)&&0<b.nodeType};a.inArray=function(b,c){if(a.not.array(c))return!1;for(var e=0;e<c.length;e++)if(c[e]===b)return!0;return!1};a.inArray.api=["not"];a.sorted=function(b){if(a.not.array(b))return!1;for(var c=0;c<b.length;c++)if(b[c]>b[c+1])return!1;return!0};(function(){var b=a,c;for(c in b)if(m.call(b,c)&&a.function(b[c]))for(var e=b[c].api||
["not","all","any"],d=0;d<e.length;d++)"not"===e[d]&&(a.not[c]=g(a[c])),"all"===e[d]&&(a.all[c]=k(a[c])),"any"===e[d]&&(a.any[c]=t(a[c]))})();a.setRegexp=function(a,c){for(var b in h)m.call(h,b)&&c===b&&(h[b]=a)};a.setNamespace=function(){q.is=v;return this};return a});
/*
 https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
*/
(function(b,f){"object"===typeof exports&&"undefined"!==typeof module?f(require("jquery"),require("window")):"function"===typeof define&&define.amd?define("isInViewport",["jquery","window"],f):f(b.$,b.window)})(this,function(b,f){function h(a,c){var g=a.getBoundingClientRect();a=g.top;var l=g.bottom,k=g.left;g=g.right;c=b.extend({tolerance:0,viewport:f},c);var m=!1,e=c.viewport.jquery?c.viewport:b(c.viewport);e.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),
console.warn("isInViewport: Defaulting to viewport as window"),e=b(f));var n=e.height(),p=e.width(),d=e[0].toString();e[0]!==f&&"[object Window]"!==d&&"[object DOMWindow]"!==d&&(d=e[0].getBoundingClientRect(),a-=d.top,l-=d.top,k-=d.left,g-=d.left,(d=h.scrollBarWidth)||(d=e,e=b("<div></div>").css({width:"100%"}),d.append(e),d=d.width()-e.width(),e.remove()),h.scrollBarWidth=d,p-=h.scrollBarWidth);c.tolerance=~~Math.round(parseFloat(c.tolerance));0>c.tolerance&&(c.tolerance=n+c.tolerance);return 0>=
g||k>=p?m:m=c.tolerance?a<=c.tolerance&&l>=c.tolerance:0<l&&a<=n}function k(a){return a?(a=a.split(","),1===a.length&&isNaN(a[0])&&(a[1]=a[0],a[0]=void 0),{tolerance:a[0]?a[0].trim():void 0,viewport:a[1]?b(a[1].trim()):void 0}):{}}b="default"in b?b["default"]:b;f="default"in f?f["default"]:f;b.extend(b.expr[":"],{"in-viewport":b.expr.createPseudo?b.expr.createPseudo(function(a){return function(b){return h(b,k(a))}}):function(a,b,g){return h(a,k(g[3]))}});b.fn.isInViewport=function(a){return this.filter(function(b,
g){return h(g,a)})};b.fn.run=function(a){var c=this;1===arguments.length&&"function"===typeof a&&(a=[a]);if(!(a instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");a.forEach(function(a){"function"!==typeof a?(console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on")):[].slice.call(c).forEach(function(c){return a.call(b(c))})});
return this}});
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(b,a,d){if(null==b)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return b+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,d){b!=Array.prototype&&b!=Object.prototype&&(b[a]=d.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,d,f){if(a){d=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var g=b[f];g in d||(d[g]={});d=d[g]}b=b[b.length-1];f=d[b];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(a,d){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var g=b.length,q=a.length;d=Math.max(0,Math.min(d|0,b.length));for(var M=0;M<q&&d<g;)if(b[d++]!=a[M++])return!1;return M>=q}},"es6","es3");
function htmlEditHelperClass(){var b;this.getClass=function(a){return"ipc-"+a};this.setContainerName=function(a){b=a};this.getID=function(a){return b+"_"+a};this.getElem=function(a){return $("#"+this.getID(a))};this.createDiv=function(a,d,b,g,q){a="<div";void 0!=d&&(a=a+" id="+this.getID(d));a=a+' class="'+this.getClass(b)+'"';void 0!=g&&(a=a+' title="'+g+'"');a+=">";void 0!=q&&(a+=q);return a+"</div>"};this.createStyledDiv=function(a,d,b,g,q){a="<div";void 0!=d&&(a=a+" id="+this.getID(d));a=a+' style="'+
b+'"';void 0!=g&&(a=a+' title="'+g+'"');a+=">";void 0!=q&&(a+=q);return a+"</div>"};this.htmlDiv=function(a,d,b,g,q){b=this.createDiv(a,d,b,g,q);a&&a.html(b);return this.getElem(d)};this.htmlStyledDiv=function(a,d,b,g,q){b=this.createStyledDiv(a,d,b,g,q);a&&a.html(b);return this.getElem(d)};this.appendDiv=function(a,d,b,g,q){b=this.createDiv(a,d,b,g,q);a&&a.append(b);return this.getElem(d)};this.appendStyledDiv=function(a,b,f,g,q){f=this.createStyledDiv(a,b,f,g,q);a&&a.append(f);return this.getElem(b)};
this.openList=function(a,b,f){a="<ul id="+this.getID(a)+" class="+this.getClass(b)+">";void 0!=f&&(a+=f);return a};this.closeList=function(a){return a+"</ul>"};this.addListItem=function(a,b,f,g){var d="<li";void 0!=a&&(d=d+" id="+this.getID(a));void 0!=f&&(d=d+' class="'+this.getClass(f)+'"');return b+(d+">"+g+"</li>")};this.addListSeparator=function(a,b,f){var d="<div";void 0!=a&&(d=d+" id="+this.getID(a));void 0!=f&&(d=d+' class="'+this.getClass(f)+'"');return b+(d+"></div>")};this.splitList=function(a){a=
a.split("\n");0<a.length&&""==a[a.length-1]&&a.pop();return a};this.compareStr=function(a,b){return a.toLowerCase()==b.toLowerCase()}}
function iplayer(){iplayerEx.call(this);this.setOnCreateVideoPlayer(function(b){var a=!0;b.hasOwnProperty("timelapseplayerenabled")&&(a=0==b.timelapseplayerenabled,0==a&&(a=b.hasOwnProperty("timelapseenabledoncamera")?0==b.timelapseenabledoncamera:!0));if("B"==b.servicetype||1==a||1==browserhelper.isSafariMobile()||0==browserhelper.isHTML5Supported())browserhelper.log("Live player created"),browserhelper.log("Service type: "+b.servicetype),browserhelper.log("Timelapse player enabled: "+b.timelapseplayerenabled),
browserhelper.log("Timelapse enabled on camera: "+b.timelapseenabledoncamera),browserhelper.log("Unsupported safari on iOS: "+browserhelper.isSafariMobile()),browserhelper.log("HTML5 supported: "+browserhelper.isHTML5Supported());else{a="";if(void 0!=b.rtcsupport&&1==b.rtcsupport){a="infinite\\";var d=ipcamliveHostManager.getHostURL("timelapses/"+b.alias+"/");1==d.startsWith("http://g")?d=d.replace("http://g","http://t"):1==d.startsWith("https://g")&&(d=d.replace("https://g","https://t"))}else d=
b.address+"timelapses/"+b.alias+"/";browserhelper.log("Timelapse player created. Path: "+d);var f=void 0,g=!0;b.hasOwnProperty("displaymode")&&"timelapse"==b.displaymode&&(f=b.hasOwnProperty("initialtimelapse")?b.initialtimelapse:"first",b.hasOwnProperty("hidelivebutton")&&1==b.hidelivebutton&&(g=!1));return new timeLapseOnLiveVideoPlayer(d,a,f,g)}})}
function timeLapseOnLiveVideoPlayer(b,a,d,f){function g(){var c=1==y?p:l;c=void 0!=c?c.getVideoPlayer()[0]:void 0;return void 0!=c?0==c.paused:!1}function q(c){v=e.htmlStyledDiv($("#"+Y),"base","width:100%; height:100%; position:relative; background:#000; "+browserhelper.getOverflowValue(c));v.on("resize",N)}function M(c){p=new ihtml5video;$.extend(A,c);p.setExtraParams(Z);A.onControlsCreated=la;void 0!=d&&(Q=A.hasOwnProperty("autoplay")&&1==A.autoplay,A.autoplay=!1);aa=e.appendStyledDiv(v,"live_ipc_ic",
"width:100%; height:100%; position:absolute; z-index:1");aa.on("mousemove",ma);p.player(aa[0].id,A,!1)}function na(c){for(var m=oa,a=pa,b=!1,g=a.length-1;0<=g;g--){var f=a[g].split("*"),k="d"==f[0];1==k?(f=f[1].trim(),n.push({displayName:f,sourceDir:m+f+"/",isDaily:k})):b=!0}1==b&&n.unshift({displayName:ipcLocale.longLapse,sourceDir:m+Ja,isDaily:!1});a:{if(void 0!=d&&""!=d){if(e.compareStr(d,"first"))m=0<n.length?0:-1;else{if(e.compareStr(d,"long-lapse")||e.compareStr(d,"longlapse")||e.compareStr(d,
"infinite"))d=ipcLocale.longLapse;b:{for(m=0;m<n.length;m++)if(n[m].displayName==d)break b;m=-1}0>m&&(0<n.length?(m=0,browserhelper.log("Initial timelapse not found. Load first one.")):browserhelper.log("Initial timelapse load fail, no timelapses"))}if(0<=m){a=qa(m);a.index=m;m=a;break a}}m=void 0}l=new ihtml5video;$.extend(h,c);l.setExtraParams(Z);h.onControlsCreated=la;void 0!=m?(h.poster=m.poster,h.source=m.source):(h.poster="",h.source="");E=e.appendDiv(v,"timelapse_ipc_ic","playerContainer");
E.css("z-index","0");E.on("mousemove",ma);l.player(E[0].id,h,!0);Ka();c=e.openList("live_timelapse_items","liveTimelapseList");c=e.addListItem("live",c,"itemTextLive",ipcLocale.live);c=e.addListSeparator("liveSep",c,"listSeparator");B.append(e.closeList(c));a=e.openList("timelapse_items","timelapseList");for(b=0;b<n.length;b++)c=n[b],a=e.addListItem("item"+b,a,"itemText",c.displayName);B.append(e.closeList(a));for(b=0;b<n.length;b++)c=n[b],c.div=e.getElem("item"+b),c.pad=15*-b,c.div.css("margin-left",
c.pad),c.div.on("click",La),c.div[0].setAttribute("data-index",b),ipcStyleManager.setFontStyle(c.div,h.style),ra(c.div,h.style.text.color,h.style.colors.panelsBackground);z=e.getElem("live");z.on("click",Ma);z.hide();ipcStyleManager.setMainColorAndFont(z,h.style);ra(z,h.style.colors.main,h.style.colors.panelsBackground);G=e.getElem("liveSep");G.hide();c=e.getElem("timelapse_items");(new GeminiScrollbar({element:c[0]})).create();N();void 0!=p&&p.setOnControlBarUpdateEvent(sa);l.setOnControlBarUpdateEvent(sa);
l.setOnFitChangeEvent(N);document.addEventListener("fullscreenchange",R);document.addEventListener("webkitfullscreenchange",R);document.addEventListener("mozfullscreenchange",R);document.addEventListener("MSFullscreenChange",R);1==t&&window.addEventListener("orientationchange",Na);void 0!=m?(l.getControls().setSourceName(m.displayName),ta(m.index,!1,!1),ba()):void 0!=d&&1==Q&&p.start()}function Ka(){F=h.style.timelapse.panelWidth;ipcLocaleHead&&F<ipcLocaleHead.minTimelapsePanelWidth&&(F=ipcLocaleHead.minTimelapsePanelWidth);
C=e.appendDiv(v,"base_left_panel","baseLeftPanel");C.css("left",-F+"px");C.css("width",F+"px");B=e.appendDiv(C,"timelapse_panel","timeLapsePanel");ipcStyleManager.setPanelStyle(B,h.style);if(1==t)B.on("touchmove",Oa);k=e.appendDiv(v,"timelapse_panel_toggler","timeLapsePanelToggler");k.click(D);k.css("left","-32px");k.show();k.delay(500).animate({left:"0px"},500,"swing");ipcStyleManager.setBackgroundImage(k,h.style.timelapse.openPanel,h.style);0==t&&k.hover(function(){$(this).addClass(e.getClass("timeLapsePanelTogglerHover"))},
function(){$(this).removeClass(e.getClass("timeLapsePanelTogglerHover"))});r=e.appendDiv(E,"timePanel","timePanel");ipcStyleManager.setPanelStyle(r,h.style);S=e.appendDiv(r,"timePanelDate","timePanelDate");H=e.appendDiv(r,"timePanelTime","timePanelTime");r.hide();ipcStyleManager.setFontStyle(S,h.style);ipcStyleManager.setFontStyle(H,h.style);0==t&&v.hover(function(){r.animate({opacity:"1.0"},250)},function(){r.animate({opacity:"0.30"},250);g()&&ua();1==x&&0==I&&va(!1)})}function Pa(c){w=void 0;$.get(c,
{},function(c){if(c&&(w=e.splitList(c))&&0<w.length){for(;0<w.length;){if(w[0].startsWith("begin")){w.shift();break}c=w[0].split("=");1<c.length&&"version"!=c[0]&&"fps"==c[0]&&(T=parseInt(c[1]));w.shift()}U=w.length/T}}).fail(function(){})}function ca(c,a,b){1==a&&(c.addClass(e.getClass("itemTextHover")),ipcStyleManager.setColor(c,h.style.colors.main),ipcStyleManager.setBackgroundColor(c,h.style.colors.panelsBackgroundDark),ipcStyleManager.setBackgroundImage(c,h.style.timelapse.itemPointer,h.style));
1==b&&c.addClass(e.getClass("itemTextHoverAnimation"))}function da(c,a,b){1==b&&c.removeClass(e.getClass("itemTextHoverAnimation"));1==a&&(c.removeClass(e.getClass("itemTextHover")),ipcStyleManager.removeBackgroundImage(c),ipcStyleManager.setBackgroundColor(c,c.data("originalBackground")),ipcStyleManager.setColor(c,c.data("originalColor")))}function ra(c,a,b){c.data("originalColor",a);c.data("originalBackground",b);0==t&&c.hover(function(){void 0!=u&&u[0]==$(this)[0]||ca($(this),!0,!0)},function(){void 0!=
u&&u[0]==$(this)[0]||da($(this),!0,!0)})}function wa(c,a){void 0!=u&&da(u,!0,!1);u=c;1==t?ca(u,!0,!0):1==a&&ca(u,!0,!1)}function va(c){I=!0;if(c){var a=F;C.animate({left:"0px"},500,"swing",ba);B.animate({opacity:h.style.colors.panelsBackgroundOpacity},500);for(var b=0;b<n.length;b++){var d=n[b];d.div.animate({marginLeft:"0px"},300+500*Math.random())}}else for(a=0,C.animate({left:-F+"px"},600,"swing",Qa),B.animate({opacity:"0.0"},600),b=0;b<n.length;b++)d=n[b],d.div.animate({marginLeft:d.pad+"px"},
300+500*Math.random());B.css("z-index","2");ea();1==t&&(1==c?k.addClass(e.getClass("timeLapsePanelTogglerHover")):k.removeClass(e.getClass("timeLapsePanelTogglerHover")));k.animate({opacity:c?"0.0":"0.75",left:a+"px"},{duration:c?400:750},"linear");x=c}function D(){0==x&&void 0!=u&&da(u,!1,!0);va(!x);V();1==x?xa():(g()&&fa(),ya())}function ea(){C&&C.css("height",v[0].clientHeight-za+"px")}function Aa(){1==W&&(W=!0,Ba(Aa));if(void 0!=O){var c=l.getVideoPlayer();if(c&&c[0]){var a=c[0].duration;c=c[0].currentTime;
0<=c&&0<a&&0<U&&(a-=U,c>=a&&(a=Math.floor((c-a)*T),0<=a&&a<w.length&&(a=d3.timeParse("%Y-%m-%d %H:%M:%S")(w[a].trim()),O.isDaily?(S.text(d3.timeFormat("%Y")(a)+"."+d3.timeFormat("%m")(a)+"."+d3.timeFormat("%d")(a)),H.text(d3.timeFormat("%H:%M")(a))):(S.text(d3.timeFormat("%Y")(a)+"."+d3.timeFormat("%m")(a)+"."+d3.timeFormat("%d")(a)),H.text(d3.timeFormat("%A")(a))),Ca(),r.is(":visible")||r.show())))}}}function Ca(){if(void 0!=O){var a=0,b=0;if(l&&l.getVideoPlayer()&&0==l.getControls().get_isVideoFit()){var d=
l.getVideoPlayer()[0].videoWidth,e=l.getVideoPlayer()[0].videoHeight,g=d/e,f=E.width(),h=E.height();f/d<=h/e?b=(h-f/g)/2:a=(f-h*g)/2}r.css("margin-right",25+a+"px");r.css("margin-top",25+b+"px")}}function ua(){k&&1!=J&&(J=1,k.fadeTo(250,0,function(){J=0}))}function ha(a){1!=ia&&(k&&2!=J&&(J=2,k.fadeTo(250,.75,function(){J=0})),void 0!=a&&0==a?V():g()&&fa())}function Da(a){ja&&ja.cancel();var c=e.getElem("live_ipc_ic"),b=e.getElem("timelapse_ipc_ic");y?(c.removeClass(K),b.removeClass(L),1==a?(c.addClass("pt-page-moveToRightEasingSlow"),
b.addClass("pt-page-moveFromLeftEasingFast"),K="pt-page-moveToRightEasingSlow",L="pt-page-moveFromLeftEasingFast"):(L=K="",c.hide()),c.css("z-index","1"),b.css("z-index","0"),b.show(),W=!0,Ba(Aa)):(W=!1,c.removeClass(K),b.removeClass(L),1==a?(K="pt-page-moveFromLeftEasingFast",L="pt-page-moveToRightEasingSlow",c.addClass("pt-page-moveFromLeftEasingFast"),b.addClass("pt-page-moveToRightEasingSlow")):(L=K="",b.hide()),c.css("z-index","0"),b.css("z-index","1"),c.show());y=!y;1==x&&D();V();ja=ipcamlivehelper.createTimeout(function(){if(y)l.stop();
else{var a=A.hasOwnProperty("autoplay")&&1==A.autoplay;ka=void 0!=p&&p.stop()&&1==a||Q;Q=!1}},500)}function Na(){window.orientation!=Ea&&(Ea=window.orientation,Fa())}function N(){if(k){0<=k.position().left&&k.css("left","0px");var a=v[0].clientHeight/2-32+"px",b=k.position().top;b==v[0].clientHeight?k.css("top",a):250>Math.abs(b-a)?k.animate({top:a},250):k.css("top",a)}Ca();ea()}function Fa(){ia=!0;1==x&&D();r.hide();k.hide();setTimeout(function(){ia=!1;N();0!=g()&&1!=t||ha();0==y&&void 0!=r&&r.show()},
500)}function ma(){0==t&&(x&&0==I&&D(),0==I&&ha())}function R(){Fa()}function sa(a,b){b=1==y?p:l;void 0!=b&&(a=b.getControls().get_controlBarHeight()+a,0==isNaN(a)&&(za=a));ea()}function la(a){a.overrideFullscreenElement(v);a.setDiscardClickEvent(Ra);var b=a.get_video();b.on("play",Ga);if(l&&a==l.getControls())b.on("loadedmetadata",Ga)}function Ga(){1==x&&D();g()&&fa()}function Ra(a){if(1==t&&x&&!I)return D(),!0;ha(1==t);return!1}function Oa(){1==t&&void 0!=P&&xa()}function Ma(){wa($(this),!1);Da(!0);
ka&&(p.start(),ka=!1)}function qa(a){var b={};b.source=n[a].sourceDir+"video.mp4";b.poster=n[a].sourceDir+"snapshot.jpg";b.displayName=n[a].displayName;return b}function ta(a,b,d){var c=n[a];void 0!=c&&(c=c.div,u&&u[0]==c[0]||(wa(c,0==b),y?Da(b):D(),U=T=-1,O=n[a],r.hide(),O.isDaily?H.css("font-size","2em"):H.css("font-size","1.25em"),1==d&&(b=qa(a),l.setSource(b.source,b.poster,b.displayName)),Pa(n[a].sourceDir+"video.dat")))}function La(a){ta(a.target.getAttribute("data-index"),!0,!0)}function ba(){y?
(z&&z.hide(),G&&G.hide()):0==(void 0!=d&&""!=d&&0==f)&&(z&&z.show(),G&&G.show());I=!1}function Qa(){ba()}function ya(){0!=t&&P&&(clearTimeout(P),P=void 0)}function xa(){0!=t&&(ya(),P=setTimeout(D,5E3))}function V(){X&&(clearTimeout(X),X=void 0)}function fa(){V();X=setTimeout(ua,3E3)}var t=browserhelper.isMobileBrowser(),y=!0,ka=!1,Ea=void 0,ia=!1,Q=!1,e=new htmlEditHelperClass,ja=void 0,P=void 0,X=void 0,Ha=!1,Ia=!1,v=void 0,Y=void 0,aa=void 0,E=void 0,p=void 0,A={},l=void 0,h={},Z=void 0,C=void 0,
B=void 0,F=125,za=0,x=!1,k=void 0,I=!1,z=void 0,G=void 0,u=void 0,J=0,r=void 0,S=void 0,H=void 0,T=-1,U=-1,w=void 0,O=void 0,n=[],Ja=a,pa=void 0,oa=b,K="",L="",W=!1,Ba=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,100)}}();this.player=function(a,b){Y=a;e.setContainerName(Y);q(b);void 0!=d&&void 0!=f&&1!=f||M(b);$.get(oa+"timelapselist.dat",{},function(a){0<a.length&&(Ia=!0,(pa=e.splitList(a))&&1==
Ha&&na(b))}).fail(function(){});a=dependencyhelper.createVersionedCSSFileName("player/html5player/mainplayer",IPC_MAIN_CCS_VERSION);dependencyhelper.load_css(ipcamliveHostManager.getHostURL(a),function(){Ha=!0;1==Ia&&na(b)});return!0};this.setEvents=function(a,b){void 0!=p&&p.setEvents(a,b);void 0!=l&&l.setEvents(a,b)};this.destroyObjects=function(){void 0!=p&&p.destroyObjects()};this.resize=function(){void 0!=p&&p.resize();void 0!=l&&l.resize()};this.setExtraParams=function(a){Z=a};this.getWebSocketDelay=
function(){return void 0!=p?p.getWebSocketDelay():0};this.setCheckStreamState=function(a){};$(window).resize(function(){N()})}var ipcamliveplayer=new iplayer;
/*
 Platform.js v1.3.0 <http://mths.be/platform>
 Copyright 2010-2015 John-David Dalton <http://allyoucanleet.com/>
 Available under MIT license <http://mths.be/mit>
*/
(function(){function A(c){c=String(c);return c.charAt(0).toUpperCase()+c.slice(1)}function I(c,n){var m=-1,f=c?c.length:0;if("number"==typeof f&&-1<f&&f<=J)for(;++m<f;)n(c[m],m,c);else B(c,n)}function C(c){c=String(c).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(c)?c:A(c)}function B(c,n){for(var m in c)K.call(c,m)&&n(c[m],m,c)}function u(c){return null==c?A(c):M.call(c).slice(8,-1)}function N(c,n){var m=null!=c?typeof c[n]:"number";return!/^(?:boolean|number|string|undefined)$/.test(m)&&
("object"==m?!!c[n]:!0)}function v(c){return String(c).replace(/([ -])(?!$)/g,"$1?")}function w(c,n){var m=null;I(c,function(f,g){m=n(m,f,g,c)});return m}function y(c){function n(a){return w(a,function(a,b){var d=b.pattern||v(b);!a&&(a=RegExp("\\b"+d+" *\\d+[.\\w_]*","i").exec(c)||RegExp("\\b"+d+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(c))&&((a=String(b.label&&!RegExp(d,"i").test(b.label)?b.label:a).split("/"))[1]&&!/[\d.]+/.test(a[0])&&(a[0]+=" "+a[1]),b=b.label||b,a=C(a[0].replace(RegExp(d,
"i"),b).replace(RegExp("; *(?:"+b+"[_-])?","i")," ").replace(RegExp("("+b+")[-_.]?(\\w)","i"),"$1 $2")));return a})}function m(a){return w(a,function(a,b){return a||(RegExp(b+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(c)||0)[1]||null})}var f=D,g=c&&"object"==typeof c&&"String"!=u(c);g&&(f=c,c=null);var l=f.navigator||{},e=l.userAgent||"";c||(c=e);var t=g||Q==R,z=g?!!l.likeChrome:/\bChrome\b/.test(c)&&!/internal|\n/i.test(M.toString()),A=g?"Object":"ScriptBridgingProxyObject",
L=g?"Object":"Environment",x=g&&f.java?"JavaPackage":u(f.java),I=g?"Object":"RuntimeObject";L=(x=/\bJava/.test(x)&&f.java)&&u(f.environment)==L;var J=x?"a":"\u03b1",K=x?"b":"\u03b2",O=f.document||{},q=f.operamini||f.opera,F=E.test(F=g&&q?q["[[Class]]"]:u(q))?F:q=null,a,G=c;g=[];var H=null,r=c==e;e=r&&q&&"function"==typeof q.version&&q.version();var h=function(a){return w(a,function(a,b){return a||RegExp("\\b"+(b.pattern||v(b))+"\\b","i").exec(c)&&(b.label||b)})}(["Trident",{label:"WebKit",pattern:"AppleWebKit"},
"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),b=function(a){return w(a,function(a,b){return a||RegExp("\\b"+(b.pattern||v(b))+"\\b","i").exec(c)&&(b.label||b)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},
"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),k=n([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",
pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),p=function(a){return w(a,function(a,b,d){return a||(b[k]||b[0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(k)]||RegExp("\\b"+v(d)+"(?:\\b|\\w*\\d)","i").exec(c))&&d})}({Apple:{iPad:1,iPhone:1,iPod:1},
Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),d=function(a){return w(a,function(a,b){var d=b.pattern||v(b);if(!a&&(a=RegExp("\\b"+d+"(?:/[\\d.]+|[ \\w.]*)","i").exec(c))){b=
b.label||b;var e={"6.4":"10","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};d&&b&&/^Win/i.test(a)&&(e=e[0,/[\d.]+$/.exec(a)])&&(a="Windows "+e);a=String(a);d&&b&&(a=a.replace(RegExp(d,"i"),b));a=C(a.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/,
" $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}return a})}("Windows Phone ,Android,CentOS,Debian,Fedora,FreeBSD,Gentoo,Haiku,Kubuntu,Linux Mint,Red Hat,SuSE,Ubuntu,Xubuntu,Cygwin,Symbian OS,hpwOS,webOS ,webOS,Tablet OS,Linux,Mac OS X,Macintosh,Mac,Windows 98;,Windows ".split(","));h&&(h=[h]);p&&!k&&(k=n([p]));if(a=/\bGoogle TV\b/.exec(k))k=a[0];/\bSimulator\b/i.test(c)&&(k=(k?k+" ":"")+"Simulator");
"Opera Mini"==b&&/\bOPiOS\b/.test(c)&&g.push("running in Turbo/Uncompressed mode");if(/^iP/.test(k))b||(b="Safari"),d="iOS"+((a=/ OS ([\d_]+)/i.exec(c))?" "+a[1].replace(/_/g,"."):"");else if("Konqueror"==b&&!/buntu/i.test(d))d="Kubuntu";else if(p&&"Google"!=p&&(/Chrome/.test(b)&&!/\bMobile Safari\b/i.test(c)||/\bVita\b/.test(k)))b="Android Browser",d=/\bAndroid\b/.test(d)?d:"Android";else if(!b||(a=!/\bMinefield\b|\(Android;/i.test(c)&&/\b(?:Firefox|Safari)\b/.exec(b)))b&&!k&&/[\/,]|^[^(]+?\)/.test(c.slice(c.indexOf(a+
"/")+8))&&(b=null),(a=k||p||d)&&(k||p||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(d))&&(b=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(d)?d:a)+" Browser");(a=/\((Mobile|Tablet).*?Firefox\b/i.exec(c))&&a[1]&&(d="Firefox OS",k||(k=a[1]));e||(e=m(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",v(b),"(?:Firefox|Minefield|NetFront)"]));"iCab"==h&&3<parseFloat(e)?h=["WebKit"]:"Trident"!=h&&(a=/\bOpera\b/.test(b)&&(/\bOPR\b/.test(c)?"Blink":"Presto")||
/\b(?:Midori|Nook|Safari)\b/i.test(c)&&"WebKit"||!h&&/\bMSIE\b/i.test(c)&&("Mac OS"==d?"Tasman":"Trident"))?h=[a]:/\bPlayStation\b(?! Vita\b)/i.test(b)&&"WebKit"==h&&(h=["NetFront"]);"IE"==b&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(c)||0)[1])?(b+=" Mobile",d="Windows Phone "+(/\+$/.test(a)?a:a+".x"),g.unshift("desktop mode")):/\bWPDesktop\b/i.test(c)?(b="IE Mobile",d="Windows Phone 8+",g.unshift("desktop mode"),e||(e=(/\brv:([\d.]+)/.exec(c)||0)[1])):"IE"!=b&&"Trident"==h&&(a=/\brv:([\d.]+)/.exec(c))?
(/\bWPDesktop\b/i.test(c)||(b&&g.push("identifying as "+b+(e?" "+e:"")),b="IE"),e=a[1]):"Chrome"!=b&&"IE"==b||!(a=/\bEdge\/([\d.]+)/.exec(c))||(b="Microsoft Edge",e=a[1],h=["Trident"]);if(r){if(N(f,"global"))if(x&&(a=x.lang.System,G=a.getProperty("os.arch"),d=d||a.getProperty("os.name")+" "+a.getProperty("os.version")),t&&N(f,"system")&&(a=[f.system])[0]){d||(d=a[0].os||null);try{a[1]=f.require("ringo/engine").version,e=a[1].join("."),b="RingoJS"}catch(S){a[0].global.system==f.system&&(b="Narwhal")}}else"object"==
typeof f.process&&(a=f.process)?(b="Node.js",G=a.arch,d=a.platform,e=/[\d.]+/.exec(a.version)[0]):L&&(b="Rhino");else u(a=f.runtime)==A?(b="Adobe AIR",d=a.flash.system.Capabilities.os):u(a=f.phantom)==I?(b="PhantomJS",e=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof O.documentMode&&(a=/\bTrident\/(\d+)/i.exec(c))&&(e=[e,O.documentMode],(a=+a[1]+4)!=e[1]&&(g.push("IE "+e[1]+" mode"),h&&(h[1]=""),e[1]=a),e="IE"==b?String(e[1].toFixed(1)):e[0]);d=d&&C(d)}e&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(e)||
/(?:alpha|beta)(?: ?\d)?/i.exec(c+";"+(r&&l.appMinorVersion))||/\bMinefield\b/i.test(c)&&"a")&&(H=/b/i.test(a)?"beta":"alpha",e=e.replace(RegExp(a+"\\+?$"),"")+("beta"==H?K:J)+(/\d+\+?/.exec(a)||""));"Fennec"==b||"Firefox"==b&&/\b(?:Android|Firefox OS)\b/.test(d)?b="Firefox Mobile":"Maxthon"==b&&e?e=e.replace(/\.[\d.]+/,".x"):"Silk"==b?(/\bMobi/i.test(c)||(d="Android",g.unshift("desktop mode")),/Accelerated *= *true/i.test(c)&&g.unshift("accelerated")):/\bXbox\b/i.test(k)?(d=null,"Xbox 360"==k&&/\bIEMobile\b/.test(c)&&
g.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(b)&&(!b||k||/Browser|Mobi/.test(b))||"Windows CE"!=d&&!/Mobi/i.test(c)?"IE"==b&&r&&null===f.external?g.unshift("platform preview"):(/\bBlackBerry\b/.test(k)||/\bBB10\b/.test(c))&&(a=(RegExp(k.replace(/ +/g," *")+"/([.\\d]+)","i").exec(c)||0)[1]||e)?(a=[a,/BB10/.test(c)],d=(a[1]?(k=null,p="BlackBerry"):"Device Software")+" "+a[0],e=null):this!=B&&"Wii"!=k&&(r&&q||/Opera/.test(b)&&/\b(?:MSIE|Firefox)\b/i.test(c)||"Firefox"==b&&/\bOS X (?:\d+\.){2,}/.test(d)||
"IE"==b&&(d&&!/^Win/.test(d)&&5.5<e||/\bWindows XP\b/.test(d)&&8<e||8==e&&!/\bTrident\b/.test(c)))&&!E.test(a=y.call(B,c.replace(E,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),E.test(b)?(/\bIE\b/.test(a)&&"Mac OS"==d&&(d=null),a="identify"+a):(a="mask"+a,b=F?C(F.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(d=null),r||(e=null)),h=["Presto"],g.push(a)):b+=" Mobile";if(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(c)||0)[1]){a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a];
if("Safari"==b&&"+"==a[1].slice(-1))b="WebKit Nightly",H="alpha",e=a[1].slice(0,-1);else if(e==a[1]||e==(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(c)||0)[1]))e=null;a[1]=(/\bChrome\/([\d.]+)/i.exec(c)||0)[1];537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"IE"!=b&&"Microsoft Edge"!=b&&(h=["Blink"]);r&&(z||a[1])?(h&&(h[1]="like Chrome"),a=a[1]||(a=a[0],530>a?1:532>a?2:532.05>a?3:533>a?4:534.03>a?5:534.07>a?6:534.1>a?7:534.13>a?8:534.16>a?9:534.24>a?10:534.3>a?11:535.01>a?12:535.02>a?"13+":535.07>a?15:
535.11>a?16:535.19>a?17:536.05>a?18:536.1>a?19:537.01>a?20:537.11>a?"21+":537.13>a?23:537.18>a?24:537.24>a?25:537.36>a?26:"Blink"!=h?"27":"28")):(h&&(h[1]="like Safari"),a=(a=a[0],400>a?1:500>a?2:526>a?3:533>a?4:534>a?"4+":535>a?5:537>a?6:538>a?7:601>a?8:"8"));h&&(h[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+"));"Safari"==b&&(!e||45<parseInt(e))&&(e=a)}"Opera"==b&&(a=/\bzbov|zvav$/.exec(d))?(b+=" ",g.unshift("desktop mode"),"zvav"==a?(b+="Mini",e=null):b+="Mobile",d=d.replace(RegExp(" *"+
a+"$"),"")):"Safari"==b&&/\bChrome\b/.exec(h&&h[1])&&(g.unshift("desktop mode"),b="Chrome Mobile",e=null,/\bOS X\b/.test(d)?(p="Apple",d="iOS 4.3+"):d=null);e&&0==e.indexOf(a=/[\d.]+$/.exec(d))&&-1<c.indexOf("/"+a+"-")&&(d=String(d.replace(a,"")).replace(/^ +| +$/g,""));h&&!/\b(?:Avant|Nook)\b/.test(b)&&(/Browser|Lunascape|Maxthon/.test(b)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(b)&&h[1])&&(a=h[h.length-1])&&g.push(a);g.length&&(g=["("+g.join("; ")+")"]);p&&k&&
0>k.indexOf(p)&&g.push("on "+p);k&&g.push((/^on /.test(g[g.length-1])?"":"on ")+k);if(d){var P=(a=/ ([\d.+]+)$/.exec(d))&&"/"==d.charAt(d.length-a[0].length-1);d={architecture:32,family:a&&!P?d.replace(a[0],""):d,version:a?a[1]:null,toString:function(){var a=this.version;return this.family+(a&&!P?" "+a:"")+(64==this.architecture?" 64-bit":"")}}}(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(G))&&!/\bi686\b/i.test(G)&&(d&&(d.architecture=64,d.family=d.family.replace(RegExp(" *"+a),"")),b&&(/\bWOW64\b/i.test(c)||
r&&/\w(?:86|32)$/.test(l.cpuClass||l.platform)&&!/\bWin64; x64\b/i.test(c))&&g.unshift("32-bit"));c||(c=null);f={};f.description=c;f.layout=h&&h[0];f.manufacturer=p;f.name=b;f.prerelease=H;f.product=k;f.ua=c;f.version=b&&e;f.os=d||{architecture:null,family:null,version:null,toString:function(){return"null"}};f.parse=y;f.toString=function(){return this.description||""};f.version&&g.unshift(e);f.name&&g.unshift(b);d&&b&&(d!=String(d).split(" ")[0]||d!=b.split(" ")[0]&&!k)&&g.push(k?"("+d+")":"on "+
d);g.length&&(f.description=g.join(" "));return f}var t={"function":!0,object:!0},D=t[typeof window]&&window||this,R=D,z=t[typeof exports]&&exports;t=t[typeof module]&&module&&!module.nodeType&&module;var l=z&&t&&"object"==typeof global&&global;!l||l.global!==l&&l.window!==l&&l.self!==l||(D=l);var J=Math.pow(2,53)-1,E=/\bOpera/,Q=this;l=Object.prototype;var K=l.hasOwnProperty,M=l.toString;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return y()}):z&&t?B(y(),
function(c,l){z[l]=c}):D.platform=y()}).call(this);
/*
 MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,f){a!=Array.prototype&&a!=Object.prototype&&(a[c]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,e={next:function(){if(f<a.length){var d=f++;return{value:c(d,a[d]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,c,f,e){if(c){f=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in f||(f[d]={});f=f[d]}a=a[a.length-1];e=f[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(){function a(){var b=document.createElement("div");b.style.position="absolute";b.style.top="-9999px";b.style.width="100px";b.style.height="100px";b.style.overflow="scroll";b.style.msOverflowStyle="scrollbar";document.body.appendChild(b);var a=b.offsetWidth-b.clientWidth;document.body.removeChild(b);return a}function c(b,a){if(b.classList)return a.forEach(function(a){b.classList.add(a)});b.className+=" "+a.join(" ")}function f(b,a){if(b.classList)return a.forEach(function(a){b.classList.remove(a)});
b.className=b.className.replace(new RegExp("(^|\\b)"+a.join("|")+"(\\b|$)","gi")," ")}function e(){var b=navigator.userAgent.toLowerCase();return-1!==b.indexOf("msie")||-1!==b.indexOf("trident")||-1!==b.indexOf(" edge/")}function d(b){this.element=null;this.autoshow=!1;this.createElements=!0;this.forceGemini=!1;this.onResize=null;this.minThumbSize=20;this.onScroll=null;Object.keys(b||{}).forEach(function(a){this[a]=b[a]},this);g=a();h=0===g&&!1===this.forceGemini;this._cache={events:{}};this._cursorDown=
this._created=!1;this._prevPageY=this._prevPageX=0;this._document=null;this._viewElement=this.element;this._scrollbarHorizontalElement=this._scrollbarHorizontalElement=this._thumbVerticalElement=this._scrollbarVerticalElement=null}var g,h;d.prototype.create=function(){if(h){c(this.element,["gm-prevented"]);if(this.onResize){if(!0===this.createElements){for(this._viewElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this.element.appendChild(this._viewElement)}else this._viewElement=
this.element.querySelector(".gm-scroll-view");c(this.element,["gm-scrollbar-container"]);c(this._viewElement,["gm-scroll-view"]);this._createResizeTrigger()}return this}if(!0===this._created)return console.warn("calling on a already-created object"),this;this.autoshow&&c(this.element,["gm-autoshow"]);this._document=document;if(!0===this.createElements){this._viewElement=document.createElement("div");this._scrollbarVerticalElement=document.createElement("div");this._thumbVerticalElement=document.createElement("div");
this._scrollbarHorizontalElement=document.createElement("div");for(this._thumbHorizontalElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this._scrollbarVerticalElement.appendChild(this._thumbVerticalElement);this._scrollbarHorizontalElement.appendChild(this._thumbHorizontalElement);this.element.appendChild(this._scrollbarVerticalElement);this.element.appendChild(this._scrollbarHorizontalElement);this.element.appendChild(this._viewElement)}else this._viewElement=
this.element.querySelector(".gm-scroll-view"),this._scrollbarVerticalElement=this.element.querySelector(".gm-scrollbar.-vertical"),this._thumbVerticalElement=this._scrollbarVerticalElement.querySelector(".thumb"),this._scrollbarHorizontalElement=this.element.querySelector(".gm-scrollbar.-horizontal"),this._thumbHorizontalElement=this._scrollbarHorizontalElement.querySelector(".thumb");c(this.element,["gm-scrollbar-container"]);c(this._viewElement,["gm-scroll-view"]);c(this._scrollbarVerticalElement,
"gm-scrollbar -vertical".split(/\s/));c(this._scrollbarHorizontalElement,"gm-scrollbar -horizontal".split(/\s/));c(this._thumbVerticalElement,["thumb"]);c(this._thumbHorizontalElement,["thumb"]);this._scrollbarVerticalElement.style.display="";this._scrollbarHorizontalElement.style.display="";this._createResizeTrigger();this._created=!0;return this._bindEvents().update()};d.prototype._createResizeTrigger=function(){var b=document.createElement("object");c(b,["gm-resize-trigger"]);b.type="text/html";
b.setAttribute("tabindex","-1");var a=this._resizeHandler.bind(this);b.onload=function(){b.contentDocument.defaultView.addEventListener("resize",a)};e()||(b.data="about:blank");this.element.appendChild(b);e()&&(b.data="about:blank");this._resizeTriggerElement=b};d.prototype.update=function(){if(h)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;this._viewElement.style.width=(this.element.offsetWidth+g).toString()+"px";this._viewElement.style.height=
(this.element.offsetHeight+g).toString()+"px";this._naturalThumbSizeX=this._scrollbarHorizontalElement.clientWidth/this._viewElement.scrollWidth*this._scrollbarHorizontalElement.clientWidth;this._naturalThumbSizeY=this._scrollbarVerticalElement.clientHeight/this._viewElement.scrollHeight*this._scrollbarVerticalElement.clientHeight;this._scrollTopMax=this._viewElement.scrollHeight-this._viewElement.clientHeight;this._scrollLeftMax=this._viewElement.scrollWidth-this._viewElement.clientWidth;this._thumbVerticalElement.style.height=
this._naturalThumbSizeY<this.minThumbSize?this.minThumbSize+"px":this._scrollTopMax?this._naturalThumbSizeY+"px":"0px";this._thumbHorizontalElement.style.width=this._naturalThumbSizeX<this.minThumbSize?this.minThumbSize+"px":this._scrollLeftMax?this._naturalThumbSizeX+"px":"0px";this._thumbSizeY=this._thumbVerticalElement.clientHeight;this._thumbSizeX=this._thumbHorizontalElement.clientWidth;this._trackTopMax=this._scrollbarVerticalElement.clientHeight-this._thumbSizeY;this._trackLeftMax=this._scrollbarHorizontalElement.clientWidth-
this._thumbSizeX;this._scrollHandler();return this};d.prototype.destroy=function(){this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null);if(h)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;this._unbinEvents();f(this.element,["gm-scrollbar-container","gm-autoshow"]);if(!0===this.createElements){this.element.removeChild(this._scrollbarVerticalElement);for(this.element.removeChild(this._scrollbarHorizontalElement);0<
this._viewElement.childNodes.length;)this.element.appendChild(this._viewElement.childNodes[0]);this.element.removeChild(this._viewElement)}else this._viewElement.style.width="",this._viewElement.style.height="",this._scrollbarVerticalElement.style.display="none",this._scrollbarHorizontalElement.style.display="none";this._created=!1;return this._document=null};d.prototype.getViewElement=function(){return this._viewElement};d.prototype._bindEvents=function(){this._cache.events.scrollHandler=this._scrollHandler.bind(this);
this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this);this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this);this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this);this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this);this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this);this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this);
this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler);this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler);this._scrollbarHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler);this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler);this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler);
this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);return this};d.prototype._unbinEvents=function(){this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler);this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler);this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler);this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler);
this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler);this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);return this};d.prototype._scrollHandler=function(){var a=this._viewElement.scrollLeft*this._trackLeftMax/this._scrollLeftMax||0,c=this._viewElement.scrollTop*this._trackTopMax/this._scrollTopMax||0;this._thumbHorizontalElement.style.msTransform=
"translateX("+a+"px)";this._thumbHorizontalElement.style.webkitTransform="translate3d("+a+"px, 0, 0)";this._thumbHorizontalElement.style.transform="translate3d("+a+"px, 0, 0)";this._thumbVerticalElement.style.msTransform="translateY("+c+"px)";this._thumbVerticalElement.style.webkitTransform="translate3d(0, "+c+"px, 0)";this._thumbVerticalElement.style.transform="translate3d(0, "+c+"px, 0)";if(this.onScroll)this.onScroll()};d.prototype._resizeHandler=function(){this.update();if(this.onResize)this.onResize()};
d.prototype._clickVerticalTrackHandler=function(a){this._viewElement.scrollTop=100*(a.offsetY-.5*this._naturalThumbSizeY)/this._scrollbarVerticalElement.clientHeight*this._viewElement.scrollHeight/100};d.prototype._clickHorizontalTrackHandler=function(a){this._viewElement.scrollLeft=100*(a.offsetX-.5*this._naturalThumbSizeX)/this._scrollbarHorizontalElement.clientWidth*this._viewElement.scrollWidth/100};d.prototype._clickVerticalThumbHandler=function(a){this._startDrag(a);this._prevPageY=this._thumbSizeY-
a.offsetY};d.prototype._clickHorizontalThumbHandler=function(a){this._startDrag(a);this._prevPageX=this._thumbSizeX-a.offsetX};d.prototype._startDrag=function(a){a.stopImmediatePropagation();this._cursorDown=!0;c(document.body,["gm-scrollbar-disable-selection"]);this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=function(){return!1}};d.prototype._mouseUpDocumentHandler=function(){this._cursorDown=!1;this._prevPageX=this._prevPageY=
0;f(document.body,["gm-scrollbar-disable-selection"]);this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=null};d.prototype._mouseMoveDocumentHandler=function(a){if(!1!==this._cursorDown)if(this._prevPageY){a=a.clientY-this._scrollbarVerticalElement.getBoundingClientRect().top;var b=this._thumbSizeY-this._prevPageY;this._viewElement.scrollTop=this._scrollTopMax*(a-b)/this._trackTopMax}else this._prevPageX&&(a=a.clientX-this._scrollbarHorizontalElement.getBoundingClientRect().left,
b=this._thumbSizeX-this._prevPageX,this._viewElement.scrollLeft=this._scrollLeftMax*(a-b)/this._trackLeftMax)};"object"===typeof exports?module.exports=d:window.GeminiScrollbar=d})();
(function(k,e){"object"===typeof exports&&"undefined"!==typeof module?e(exports,require("d3-time")):"function"===typeof define&&define.amd?define(["exports","d3-time"],e):e(k.d3=k.d3||{},k.d3)})(this,function(k,e){function T(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function u(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,
a.m,a.d,a.H,a.M,a.S,a.L))}function q(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function v(a){function b(a,b){return function(c){var d=[],g=-1,m=0,U=a.length,f,e;for(c instanceof Date||(c=new Date(+c));++g<U;)if(37===a.charCodeAt(g)){d.push(a.slice(m,g));null!=(m=J[f=a.charAt(++g)])?f=a.charAt(++g):m="e"===f?" ":"0";if(e=b[f])f=e(c,m);d.push(f);m=g+1}d.push(a.slice(m,g));return d.join("")}}function c(a,b){return function(c){var d=q(1900);if(f(d,a,c+="",0)!=c.length)return null;if("Q"in d)return new Date(d.Q);
"p"in d&&(d.H=d.H%12+12*d.p);if("V"in d){if(1>d.V||53<d.V)return null;"w"in d||(d.w=1);if("Z"in d){c=u(q(d.y));var g=c.getUTCDay();c=4<g||0===g?e.utcMonday.ceil(c):e.utcMonday(c);c=e.utcDay.offset(c,7*(d.V-1));d.y=c.getUTCFullYear();d.m=c.getUTCMonth();d.d=c.getUTCDate()+(d.w+6)%7}else c=b(q(d.y)),g=c.getDay(),c=4<g||0===g?e.timeMonday.ceil(c):e.timeMonday(c),c=e.timeDay.offset(c,7*(d.V-1)),d.y=c.getFullYear(),d.m=c.getMonth(),d.d=c.getDate()+(d.w+6)%7}else if("W"in d||"U"in d)"w"in d||(d.w="u"in
d?d.u%7:"W"in d?1:0),g="Z"in d?u(q(d.y)).getUTCDay():b(q(d.y)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(g+5)%7:d.w+7*d.U-(g+6)%7;return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,u(d)):b(d)}}function f(a,b,c,d){for(var g=0,m=b.length,f=c.length,e;g<m;){if(d>=f)return-1;e=b.charCodeAt(g++);if(37===e){if(e=b.charAt(g++),e=V[e in J?b.charAt(g++):e],!e||0>(d=e(a,c,d)))return-1}else if(e!=c.charCodeAt(d++))return-1}return d}var h=a.dateTime,k=a.date,l=a.time,w=a.periods,x=a.days,y=a.shortDays,z=a.months,A=
a.shortMonths,v=r(w),B=t(w),C=r(x),D=t(x),E=r(y),F=t(y),G=r(z),H=t(z),I=r(A),W=t(A),n={a:function(a){return y[a.getDay()]},A:function(a){return x[a.getDay()]},b:function(a){return A[a.getMonth()]},B:function(a){return z[a.getMonth()]},c:null,d:K,e:K,f:X,H:Y,I:Z,j:aa,L:L,m:ba,M:ca,p:function(a){return w[+(12<=a.getHours())]},Q:M,s:N,S:da,u:ea,U:fa,V:ha,w:ia,W:ja,x:null,X:null,y:ka,Y:la,Z:ma,"%":O},p={a:function(a){return y[a.getUTCDay()]},A:function(a){return x[a.getUTCDay()]},b:function(a){return A[a.getUTCMonth()]},
B:function(a){return z[a.getUTCMonth()]},c:null,d:P,e:P,f:na,H:oa,I:pa,j:qa,L:Q,m:ra,M:sa,p:function(a){return w[+(12<=a.getUTCHours())]},Q:M,s:N,S:ta,u:ua,U:va,V:wa,w:xa,W:ya,x:null,X:null,y:za,Y:Aa,Z:Ba,"%":O},V={a:function(a,b,c){return(b=E.exec(b.slice(c)))?(a.w=F[b[0].toLowerCase()],c+b[0].length):-1},A:function(a,b,c){return(b=C.exec(b.slice(c)))?(a.w=D[b[0].toLowerCase()],c+b[0].length):-1},b:function(a,b,c){return(b=I.exec(b.slice(c)))?(a.m=W[b[0].toLowerCase()],c+b[0].length):-1},B:function(a,
b,c){return(b=G.exec(b.slice(c)))?(a.m=H[b[0].toLowerCase()],c+b[0].length):-1},c:function(a,b,c){return f(a,h,b,c)},d:R,e:R,f:Ca,H:S,I:S,j:Da,L:Ea,m:Fa,M:Ga,p:function(a,b,c){return(b=v.exec(b.slice(c)))?(a.p=B[b[0].toLowerCase()],c+b[0].length):-1},Q:Ha,s:Ia,S:Ja,u:Ka,U:La,V:Ma,w:Na,W:Oa,x:function(a,b,c){return f(a,k,b,c)},X:function(a,b,c){return f(a,l,b,c)},y:Pa,Y:Qa,Z:Ra,"%":Sa};n.x=b(k,n);n.X=b(l,n);n.c=b(h,n);p.x=b(k,p);p.X=b(l,p);p.c=b(h,p);return{format:function(a){var c=b(a+="",n);c.toString=
function(){return a};return c},parse:function(a){var b=c(a+="",T);b.toString=function(){return a};return b},utcFormat:function(a){var c=b(a+="",p);c.toString=function(){return a};return c},utcParse:function(a){var b=c(a,u);b.toString=function(){return a};return b}}}function f(a,b,c){var e=0>a?"-":"";a=(e?-a:a)+"";var f=a.length;return e+(f<c?Array(c-f+1).join(b)+a:a)}function C(a){return a.replace(D,"\\$&")}function r(a){return new RegExp("^(?:"+a.map(C).join("|")+")","i")}function t(a){for(var b=
{},c=-1,e=a.length;++c<e;)b[a[c].toLowerCase()]=c;return b}function Na(a,b,c){return(b=h.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Ka(a,b,c){return(b=h.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function La(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function Ma(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function Oa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function Qa(a,b,c){return(b=h.exec(b.slice(c,
c+4)))?(a.y=+b[0],c+b[0].length):-1}function Pa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Ra(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function Fa(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function R(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Da(a,b,c){return(b=h.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+
b[0].length):-1}function S(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Ga(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Ja(a,b,c){return(b=h.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Ea(a,b,c){return(b=h.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Ca(a,b,c){return(b=h.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function Sa(a,b,c){return(a=E.exec(b.slice(c,c+1)))?c+a[0].length:
-1}function Ha(a,b,c){return(b=h.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function Ia(a,b,c){return(b=h.exec(b.slice(c)))?(a.Q=1E3*+b[0],c+b[0].length):-1}function K(a,b){return f(a.getDate(),b,2)}function Y(a,b){return f(a.getHours(),b,2)}function Z(a,b){return f(a.getHours()%12||12,b,2)}function aa(a,b){return f(1+e.timeDay.count(e.timeYear(a),a),b,3)}function L(a,b){return f(a.getMilliseconds(),b,3)}function X(a,b){return L(a,b)+"000"}function ba(a,b){return f(a.getMonth()+1,b,2)}function ca(a,
b){return f(a.getMinutes(),b,2)}function da(a,b){return f(a.getSeconds(),b,2)}function ea(a){a=a.getDay();return 0===a?7:a}function fa(a,b){return f(e.timeSunday.count(e.timeYear(a),a),b,2)}function ha(a,b){var c=a.getDay();a=4<=c||0===c?e.timeThursday(a):e.timeThursday.ceil(a);return f(e.timeThursday.count(e.timeYear(a),a)+(4===e.timeYear(a).getDay()),b,2)}function ia(a){return a.getDay()}function ja(a,b){return f(e.timeMonday.count(e.timeYear(a),a),b,2)}function ka(a,b){return f(a.getFullYear()%
100,b,2)}function la(a,b){return f(a.getFullYear()%1E4,b,4)}function ma(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+f(a/60|0,"0",2)+f(a%60,"0",2)}function P(a,b){return f(a.getUTCDate(),b,2)}function oa(a,b){return f(a.getUTCHours(),b,2)}function pa(a,b){return f(a.getUTCHours()%12||12,b,2)}function qa(a,b){return f(1+e.utcDay.count(e.utcYear(a),a),b,3)}function Q(a,b){return f(a.getUTCMilliseconds(),b,3)}function na(a,b){return Q(a,b)+"000"}function ra(a,b){return f(a.getUTCMonth()+1,
b,2)}function sa(a,b){return f(a.getUTCMinutes(),b,2)}function ta(a,b){return f(a.getUTCSeconds(),b,2)}function ua(a){a=a.getUTCDay();return 0===a?7:a}function va(a,b){return f(e.utcSunday.count(e.utcYear(a),a),b,2)}function wa(a,b){var c=a.getUTCDay();a=4<=c||0===c?e.utcThursday(a):e.utcThursday.ceil(a);return f(e.utcThursday.count(e.utcYear(a),a)+(4===e.utcYear(a).getUTCDay()),b,2)}function xa(a){return a.getUTCDay()}function ya(a,b){return f(e.utcMonday.count(e.utcYear(a),a),b,2)}function za(a,
b){return f(a.getUTCFullYear()%100,b,2)}function Aa(a,b){return f(a.getUTCFullYear()%1E4,b,4)}function Ba(){return"+0000"}function O(){return"%"}function M(a){return+a}function N(a){return Math.floor(+a/1E3)}function B(a){l=v(a);k.timeFormat=l.format;k.timeParse=l.parse;k.utcFormat=l.utcFormat;k.utcParse=l.utcParse;return l}function F(a){return a.toISOString()}function G(a){a=new Date(a);return isNaN(a)?null:a}var J={"-":"",_:" ",0:"0"},h=/^\s*\d+/,E=/^%/,D=/[\\^$*+?|[\]().{}]/g,l;B({dateTime:"%x, %X",
date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var H=Date.prototype.toISOString?F:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),I=+new Date("2000-01-01T00:00:00.000Z")?G:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");
k.timeFormatDefaultLocale=B;k.timeFormatLocale=v;k.isoFormat=H;k.isoParse=I;Object.defineProperty(k,"__esModule",{value:!0})});
(function(k,h){"function"===typeof define&&define.amd?define([],h):"object"===typeof exports?module.exports=h():k.textFit=h()})("object"===typeof global?global:this,function(){function k(f,c){return-1<(" "+f.className+" ").indexOf(" "+c+" ")}var h={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(f,c){c||(c={});var p={};for(a in h)c.hasOwnProperty(a)?p[a]=c[a]:p[a]=h[a];"function"===typeof f.toArray&&
(f=f.toArray());c=Object.prototype.toString.call(f);"[object Array]"!==c&&"[object NodeList]"!==c&&"[object HTMLCollection]"!==c&&(f=[f]);for(c=0;c<f.length;c++){var a=f[c];var d=p;if(("object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName)&&(d.reProcess||!a.getAttribute("textFitted"))){d.reProcess||a.setAttribute("textFitted",1);var g=a.innerHTML;var e=a;var b=window.getComputedStyle(e,null);e=e.clientWidth-parseInt(b.getPropertyValue("padding-left"),
10)-parseInt(b.getPropertyValue("padding-right"),10);b=a;var l=window.getComputedStyle(b,null);l=b.clientHeight-parseInt(l.getPropertyValue("padding-top"),10)-parseInt(l.getPropertyValue("padding-bottom"),10);if(!e||!d.widthOnly&&!l){if(d.widthOnly)throw Error("Set a static width on the target element "+a.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+a.outerHTML+" before using textFit!");}-1===g.indexOf("textFitted")?(b=document.createElement("span"),
b.className="textFitted",b.style.display="inline-block",b.innerHTML=g,a.innerHTML="",a.appendChild(b)):(b=a.querySelector("span.textFitted"),k(b,"textFitAlignVert")&&(b.className=b.className.replace("textFitAlignVert",""),b.style.height="",a.className.replace("textFitAlignVertFlex","")));d.alignHoriz&&(a.style["text-align"]="center",b.style["text-align"]="center");g=d.multiLine;d.detectMultiLine&&!g&&b.scrollHeight>=2*parseInt(window.getComputedStyle(b)["font-size"],10)&&(g=!0);g||(a.style["white-space"]=
"nowrap");var m=d.minFontSize;g=d.maxFontSize;for(var q=m;m<=g;){var n=g+m>>1;b.style.fontSize=n+"px";b.scrollWidth<=e&&(d.widthOnly||b.scrollHeight<=l)?(q=n,m=n+1):g=n-1}b.style.fontSize!=q+"px"&&(b.style.fontSize=q+"px");d.alignVert&&(document.getElementById("textFitStyleSheet")||(e=document.createElement("style"),e.type="text/css",e.id="textFitStyleSheet",e.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",
document.body.appendChild(e)),e=b.scrollHeight,"static"===window.getComputedStyle(a).position&&(a.style.position="relative"),k(b,"textFitAlignVert")||(b.className+=" textFitAlignVert"),b.style.height=e+"px",d.alignVertWithFlexbox&&!k(a,"textFitAlignVertFlex")&&(a.className+=" textFitAlignVertFlex"))}}}});
